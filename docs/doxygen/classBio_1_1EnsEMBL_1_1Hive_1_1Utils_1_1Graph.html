<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ensembl-hive: Bio::EnsEMBL::Hive::Utils::Graph Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ensembl-hive
   &#160;<span id="projectnumber">2.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Bio::EnsEMBL::Hive::Utils::Graph Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for Bio::EnsEMBL::Hive::Utils::Graph:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph__inherit__graph.png" border="0" usemap="#Bio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph_inherit__map" alt="Inheritance graph"/></div>
<map name="Bio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph_inherit__map" id="Bio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph_inherit__map">
<area shape="rect" id="node2" href="classBio_1_1EnsEMBL_1_1Hive_1_1Configurable.html" title="Bio::EnsEMBL::Hive\l::Configurable" alt="" coords="5,5,148,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for Bio::EnsEMBL::Hive::Utils::Graph:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph__coll__graph.png" border="0" usemap="#Bio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph_coll__map" alt="Collaboration graph"/></div>
<map name="Bio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph_coll__map" id="Bio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph_coll__map">
<area shape="rect" id="node2" href="classBio_1_1EnsEMBL_1_1Hive_1_1Configurable.html" title="Bio::EnsEMBL::Hive\l::Configurable" alt="" coords="5,5,148,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0452e8098246f27173059b14600f190c"><td class="memItemLeft" align="right" valign="top">public <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html">Graph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a0452e8098246f27173059b14600f190c">new</a> ()</td></tr>
<tr class="separator:a0452e8098246f27173059b14600f190c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f9efde876681aea12fc343faae97dab"><td class="memItemLeft" align="right" valign="top">public <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1GraphViz.html">GraphViz</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a5f9efde876681aea12fc343faae97dab">graph</a> ()</td></tr>
<tr class="separator:a5f9efde876681aea12fc343faae97dab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bb1d3cb61932806ea8c430d96589825"><td class="memItemLeft" align="right" valign="top">public <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1HivePipeline.html">HivePipeline</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a0bb1d3cb61932806ea8c430d96589825">pipeline</a> ()</td></tr>
<tr class="separator:a0bb1d3cb61932806ea8c430d96589825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e2b089774f68bf5602c028ea02694ca"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a9e2b089774f68bf5602c028ea02694ca">_grouped_dataflow_rules</a> ()</td></tr>
<tr class="separator:a9e2b089774f68bf5602c028ea02694ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6415312e311c5a6fe8d7aa89ba3684a"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#ab6415312e311c5a6fe8d7aa89ba3684a">_analysis_node_name</a> ()</td></tr>
<tr class="separator:ab6415312e311c5a6fe8d7aa89ba3684a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af860b66fd159323a7c507fa27b2f3794"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#af860b66fd159323a7c507fa27b2f3794">_table_node_name</a> ()</td></tr>
<tr class="separator:af860b66fd159323a7c507fa27b2f3794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b69ec7b75f6a29f8df3fc8215d2c20d"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a0b69ec7b75f6a29f8df3fc8215d2c20d">_accu_sink_node_name</a> ()</td></tr>
<tr class="separator:a0b69ec7b75f6a29f8df3fc8215d2c20d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a883984099d3dcf88852d734273a5cfe2"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a883984099d3dcf88852d734273a5cfe2">_cluster_name</a> ()</td></tr>
<tr class="separator:a883984099d3dcf88852d734273a5cfe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a546d1e3d214a8c2ba2c25a8d94ac0813"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a546d1e3d214a8c2ba2c25a8d94ac0813">_midpoint_name</a> ()</td></tr>
<tr class="separator:a546d1e3d214a8c2ba2c25a8d94ac0813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7fad3a0d313ae9d07c6b6e636876109"><td class="memItemLeft" align="right" valign="top">public The&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#ad7fad3a0d313ae9d07c6b6e636876109">build</a> ()</td></tr>
<tr class="separator:ad7fad3a0d313ae9d07c6b6e636876109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefb7c89ca1e64a84a64329aa7277e612"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#aefb7c89ca1e64a84a64329aa7277e612">_propagate_allocation</a> ()</td></tr>
<tr class="separator:aefb7c89ca1e64a84a64329aa7277e612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f66903e2bbdee1dc8facbb2274ac6b9"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a7f66903e2bbdee1dc8facbb2274ac6b9">_add_pipeline_label</a> ()</td></tr>
<tr class="separator:a7f66903e2bbdee1dc8facbb2274ac6b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15c083cbf55912f540a1a62c63f36ccd"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a15c083cbf55912f540a1a62c63f36ccd">_add_analysis_node</a> ()</td></tr>
<tr class="separator:a15c083cbf55912f540a1a62c63f36ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209198c2208e7b68766a461834f4abc5"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a209198c2208e7b68766a461834f4abc5">_add_accu_sink_node</a> ()</td></tr>
<tr class="separator:a209198c2208e7b68766a461834f4abc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43e296bc05745d61f990d50fb962d7fc"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a43e296bc05745d61f990d50fb962d7fc">_add_control_rules</a> ()</td></tr>
<tr class="separator:a43e296bc05745d61f990d50fb962d7fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a87a549f90a8c7794aff3643cebbc9"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a91a87a549f90a8c7794aff3643cebbc9">_last_part_arrow</a> ()</td></tr>
<tr class="separator:a91a87a549f90a8c7794aff3643cebbc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e205f13dfb3d9993e84c379d50bd8a6"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a9e205f13dfb3d9993e84c379d50bd8a6">_twopart_arrow</a> ()</td></tr>
<tr class="separator:a9e205f13dfb3d9993e84c379d50bd8a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b32094dcff97c58cc418c436a01e9da"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a3b32094dcff97c58cc418c436a01e9da">_add_dataflow_rules</a> ()</td></tr>
<tr class="separator:a3b32094dcff97c58cc418c436a01e9da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f15e355d2750a68a1a219ef2decc55a"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a5f15e355d2750a68a1a219ef2decc55a">_add_table_node</a> ()</td></tr>
<tr class="separator:a5f15e355d2750a68a1a219ef2decc55a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Configurable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Configurable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Configurable.html">Bio::EnsEMBL::Hive::Configurable</a></td></tr>
<tr class="memitem:a38c57142acfd31f32e87a94717620baf inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Configurable"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Configurable.html#a38c57142acfd31f32e87a94717620baf">config</a> ()</td></tr>
<tr class="separator:a38c57142acfd31f32e87a94717620baf inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Configurable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a419025891535ecd7b2f05183cf2ce8e4 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Configurable"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Configurable.html#a419025891535ecd7b2f05183cf2ce8e4">context</a> ()</td></tr>
<tr class="separator:a419025891535ecd7b2f05183cf2ce8e4 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Configurable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeed405377caddb6a1aa3cb605ed6304f inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Configurable"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Configurable.html#aeed405377caddb6a1aa3cb605ed6304f">config_get</a> ()</td></tr>
<tr class="separator:aeed405377caddb6a1aa3cb605ed6304f inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Configurable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e556c76396430193c3f613c6f3e4079 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Configurable"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Configurable.html#a3e556c76396430193c3f613c6f3e4079">config_set</a> ()</td></tr>
<tr class="separator:a3e556c76396430193c3f613c6f3e4079 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Configurable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="anchor" id="Synopsis"></a>
Synopsis</h1>
<div class="fragment"><div class="line">my $g = <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html">Bio::EnsEMBL::Hive::Utils::Graph</a>-&gt;<a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a0452e8098246f27173059b14600f190c">new</a>( $hive_pipeline );</div><div class="line">my $graphviz = $g-&gt;<a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#ad7fad3a0d313ae9d07c6b6e636876109">build</a>();</div><div class="line">$graphviz-&gt;as_png(<span class="stringliteral">&#39;location.png&#39;</span>);</div></div><!-- fragment --> <h1><a class="anchor" id="Description"></a>
Description</h1>
<p> <pre>
    This is a module for converting a hive database's flow of analyses, control 
    rules and dataflows into the GraphViz model language. This information can
    then be converted to an image or to the dot language for further manipulation
    in GraphViz.

</pre> </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a0b69ec7b75f6a29f8df3fc8215d2c20d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b69ec7b75f6a29f8df3fc8215d2c20d">&#9670;&nbsp;</a></span>_accu_sink_node_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_accu_sink_node_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_accu_sink_node_name" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_accu_sink_node_name-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_accu_sink_node_name-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_accu_sink_node_name-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a0b69ec7b75f6a29f8df3fc8215d2c20d">_accu_sink_node_name</a> {</div><div class="line">    my ($funnel_dfr) = @_;</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> <span class="stringliteral">&#39;sink_&#39;</span>.(UNIVERSAL::isa($funnel_dfr, <span class="stringliteral">&#39;Bio::EnsEMBL::Hive::DataflowRule&#39;</span>) ? <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a546d1e3d214a8c2ba2c25a8d94ac0813">_midpoint_name</a>($funnel_dfr) : ($funnel_dfr || <span class="stringliteral">&#39;&#39;</span>));</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a209198c2208e7b68766a461834f4abc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209198c2208e7b68766a461834f4abc5">&#9670;&nbsp;</a></span>_add_accu_sink_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_add_accu_sink_node </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_add_accu_sink_node" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_add_accu_sink_node-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_add_accu_sink_node-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_add_accu_sink_node-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a209198c2208e7b68766a461834f4abc5">_add_accu_sink_node</a> {</div><div class="line">    my ($self, $funnel_dfr) = @_;</div><div class="line"></div><div class="line">    my $accusink_shape      = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;AccuSink&#39;</span>, <span class="stringliteral">&#39;Shape&#39;</span>);</div><div class="line">    my $accusink_style      = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;AccuSink&#39;</span>, <span class="stringliteral">&#39;Style&#39;</span>);</div><div class="line">    my $accusink_colour     = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;AccuSink&#39;</span>, <span class="stringliteral">&#39;Colour&#39;</span>);</div><div class="line">    my $accusink_font       = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;AccuSink&#39;</span>, <span class="stringliteral">&#39;Font&#39;</span>);</div><div class="line">    my $accusink_fontcolour = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;AccuSink&#39;</span>, <span class="stringliteral">&#39;FontColour&#39;</span>);</div><div class="line"></div><div class="line">    my $accu_sink_node_name = <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a0b69ec7b75f6a29f8df3fc8215d2c20d">_accu_sink_node_name</a>( $funnel_dfr );</div><div class="line"></div><div class="line">    $self-&gt;graph-&gt;add_node( $accu_sink_node_name,</div><div class="line">        style       =&gt; $accusink_style,</div><div class="line">        shape       =&gt; $accusink_shape,</div><div class="line">        fillcolor   =&gt; $accusink_colour,</div><div class="line">        fontname    =&gt; $accusink_font,</div><div class="line">        fontcolor   =&gt; $accusink_fontcolour,</div><div class="line">        label       =&gt; <span class="stringliteral">&#39;Accu&#39;</span>,</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> $accu_sink_node_name;</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a15c083cbf55912f540a1a62c63f36ccd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15c083cbf55912f540a1a62c63f36ccd">&#9670;&nbsp;</a></span>_add_analysis_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_add_analysis_node </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_add_analysis_node" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_add_analysis_node-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_add_analysis_node-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_add_analysis_node-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a15c083cbf55912f540a1a62c63f36ccd">_add_analysis_node</a> {</div><div class="line">    my ($self, $analysis) = @_;</div><div class="line"></div><div class="line">    my $this_analysis_node_name                           = $self-&gt;_analysis_node_name( $analysis );</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> $this_analysis_node_name <span class="keywordflow">if</span>($self-&gt;{<span class="stringliteral">&#39;_created_analysis&#39;</span>}{ $analysis }++);   # making sure every Analysis node gets created no more than once</div><div class="line"></div><div class="line">    my $analysis_stats = $analysis-&gt;stats();</div><div class="line"></div><div class="line">    my ($breakout_label, $total_job_count, $count_hash)   = $analysis_stats-&gt;job_count_breakout();</div><div class="line">    my $analysis_status                                   = $analysis_stats-&gt;status;</div><div class="line">    my $analysis_status_colour                            = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;AnalysisStatus&#39;</span>, $analysis_status, <span class="stringliteral">&#39;Colour&#39;</span>);</div><div class="line">    my $analysis_shape                                    = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;AnalysisStatus&#39;</span>, <span class="stringliteral">&#39;Shape&#39;</span>);</div><div class="line">    my $analysis_style                                    = $analysis-&gt;can_be_empty() ? <span class="stringliteral">&#39;dashed, filled&#39;</span> : <span class="stringliteral">&#39;filled&#39;</span> ;</div><div class="line">    my $node_fontname                                     = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;AnalysisStatus&#39;</span>, $analysis_status, <span class="stringliteral">&#39;Font&#39;</span>);</div><div class="line">    my $display_stats                                     = $self-&gt;config_get(<span class="stringliteral">&#39;DisplayStats&#39;</span>);</div><div class="line">    my $hive_pipeline                                     = $self-&gt;pipeline;</div><div class="line"></div><div class="line">    my $colspan = 0;</div><div class="line">    my $bar_chart = <span class="stringliteral">&#39;&#39;</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>( $display_stats eq <span class="stringliteral">&#39;barchart&#39;</span> ) {</div><div class="line">        <span class="keywordflow">foreach</span> my $count_method (qw(SEMAPHORED READY INPROGRESS DONE FAILED)) {</div><div class="line">            <span class="keywordflow">if</span>(my $count=$count_hash-&gt;{lc($count_method).<span class="stringliteral">&#39;_job_count&#39;</span>}) {</div><div class="line">                $bar_chart .= <span class="stringliteral">&#39;&lt;td bgcolor=&quot;&#39;</span>.$self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;JobStatus&#39;</span>, $count_method, <span class="stringliteral">&#39;Colour&#39;</span>).<span class="stringliteral">&#39;&quot; width=&quot;&#39;</span>.int(100*$count/$total_job_count).<span class="stringliteral">&#39;%&quot;&gt;&#39;</span>.$count.lc(substr($count_method,0,1)).<span class="stringliteral">&#39;&lt;/td&gt;&#39;</span>;</div><div class="line">                ++$colspan;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keywordflow">if</span>($colspan != 1) {</div><div class="line">            $bar_chart .= <span class="stringliteral">&#39;&lt;td&gt;=&#39;</span>.$total_job_count.<span class="stringliteral">&#39;&lt;/td&gt;&#39;</span>;</div><div class="line">            ++$colspan;</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    $colspan ||= 1;</div><div class="line">    my $analysis_label  = <span class="stringliteral">&#39;&lt;&lt;table border=&quot;0&quot; cellborder=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;&lt;tr&gt;&lt;td colspan=&quot;&#39;</span>.$colspan.<span class="stringliteral">&#39;&quot;&gt;&#39;</span>.$analysis-&gt;relative_display_name( $hive_pipeline ).<span class="stringliteral">&#39; (&#39;</span>.($analysis-&gt;dbID || <span class="stringliteral">&#39;unstored&#39;</span>).<span class="stringliteral">&#39;)&lt;/td&gt;&lt;/tr&gt;&#39;</span>;</div><div class="line">    <span class="keywordflow">if</span>( $display_stats ) {</div><div class="line">        $analysis_label    .= qq{&lt;tr&gt;&lt;td colspan=<span class="stringliteral">&quot;$colspan&quot;</span>&gt; &lt;/td&gt;&lt;/tr&gt;};</div><div class="line">        <span class="keywordflow">if</span>( $display_stats eq <span class="stringliteral">&#39;barchart&#39;</span>) {</div><div class="line">            $analysis_label    .= qq{&lt;tr&gt;$bar_chart&lt;/tr&gt;};</div><div class="line">        } elsif( $display_stats eq <span class="stringliteral">&#39;text&#39;</span>) {</div><div class="line">            $analysis_label    .= qq{&lt;tr&gt;&lt;td colspan=<span class="stringliteral">&quot;$colspan&quot;</span>&gt;$breakout_label&lt;/td&gt;&lt;/tr&gt;};</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>( my $job_limit = $self-&gt;config_get(<span class="stringliteral">&#39;DisplayJobs&#39;</span>) ) {</div><div class="line">        <span class="keywordflow">if</span>(my $job_adaptor = $analysis-&gt;adaptor &amp;&amp; $analysis-&gt;adaptor-&gt;db-&gt;get_AnalysisJobAdaptor) {</div><div class="line">            my @jobs = sort {$a-&gt;dbID &lt;=&gt; $b-&gt;dbID} @{ $job_adaptor-&gt;fetch_some_by_analysis_id_limit( $analysis-&gt;dbID, $job_limit+1 )};</div><div class="line">            $analysis-&gt;jobs_collection( \@jobs );</div><div class="line">        }</div><div class="line"></div><div class="line">        my @jobs = @{ $analysis-&gt;jobs_collection };</div><div class="line"></div><div class="line">        my $hit_limit;</div><div class="line">        <span class="keywordflow">if</span>(scalar(@jobs)&gt;$job_limit) {</div><div class="line">            pop @jobs;</div><div class="line">            $hit_limit = 1;</div><div class="line">        }</div><div class="line"></div><div class="line">        $analysis_label    .= <span class="stringliteral">&#39;&lt;tr&gt;&lt;td colspan=&quot;&#39;</span>.$colspan.<span class="stringliteral">&#39;&quot;&gt; &lt;/td&gt;&lt;/tr&gt;&#39;</span>;</div><div class="line">        <span class="keywordflow">foreach</span> my $job (@jobs) {</div><div class="line">            my $input_id = $job-&gt;input_id;</div><div class="line">            my $status   = $job-&gt;status;</div><div class="line">            my $job_id   = $job-&gt;dbID || <span class="stringliteral">&#39;unstored&#39;</span>;</div><div class="line">            $input_id=~s/\&gt;/&amp;gt;/g;</div><div class="line">            $input_id=~s/\&lt;/&amp;lt;/g;</div><div class="line">            $input_id=~s/\{|\}<span class="comment">//g;</span></div><div class="line">            $analysis_label    .= qq{&lt;tr&gt;&lt;td align=<span class="stringliteral">&quot;left&quot;</span> colspan=<span class="stringliteral">&quot;$colspan&quot;</span> bgcolor=<span class="stringliteral">&quot;}.$self-&gt;config_get(&#39;Node&#39;, &#39;JobStatus&#39;, $status, &#39;Colour&#39;).qq{&quot;</span>&gt;$job_id [$status]: $input_id&lt;/td&gt;&lt;/tr&gt;};</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>($hit_limit) {</div><div class="line">            $analysis_label    .= qq{&lt;tr&gt;&lt;td colspan=<span class="stringliteral">&quot;$colspan&quot;</span>&gt;[ + }.($total_job_count-$job_limit).qq{ more jobs ]&lt;/td&gt;&lt;/tr&gt;};</div><div class="line">        }</div><div class="line">    }</div><div class="line">    $analysis_label    .= <span class="stringliteral">&#39;&lt;/table&gt;&gt;&#39;</span>;</div><div class="line">  </div><div class="line">    $self-&gt;graph-&gt;add_node( $this_analysis_node_name,</div><div class="line">        shape       =&gt; <span class="stringliteral">&#39;record&#39;</span>,</div><div class="line">        comment     =&gt; qq{new_shape:$analysis_shape},</div><div class="line">        style       =&gt; $analysis_style,</div><div class="line">        fillcolor   =&gt; $analysis_status_colour,</div><div class="line">        fontname    =&gt; $node_fontname,</div><div class="line">        label       =&gt; $analysis_label,</div><div class="line">    );</div><div class="line"></div><div class="line">    $self-&gt;_add_control_rules( $analysis-&gt;control_rules_collection );</div><div class="line">    $self-&gt;_add_dataflow_rules( $analysis );</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> $this_analysis_node_name;</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a43e296bc05745d61f990d50fb962d7fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43e296bc05745d61f990d50fb962d7fc">&#9670;&nbsp;</a></span>_add_control_rules()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_add_control_rules </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_add_control_rules" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_add_control_rules-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_add_control_rules-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_add_control_rules-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a43e296bc05745d61f990d50fb962d7fc">_add_control_rules</a> {</div><div class="line">    my ($self, $ctrl_rules) = @_;</div><div class="line"></div><div class="line">    my $control_colour = $self-&gt;config_get(<span class="stringliteral">&#39;Edge&#39;</span>, <span class="stringliteral">&#39;Control&#39;</span>, <span class="stringliteral">&#39;Colour&#39;</span>);</div><div class="line">    my $graph = $self-&gt;graph();</div><div class="line"></div><div class="line"><span class="preprocessor">        #The control rules are always from and to an analysis so no need to search for odd cases here</span></div><div class="line">    <span class="keywordflow">foreach</span> my $c_rule ( @$ctrl_rules ) {</div><div class="line">        my $condition_analysis  = $c_rule-&gt;condition_analysis;</div><div class="line">        my $ctrled_analysis     = $c_rule-&gt;ctrled_analysis;</div><div class="line"></div><div class="line">        my $ctrled_is_local     = $ctrled_analysis-&gt;is_local_to( $self-&gt;pipeline );</div><div class="line">        my $condition_is_local  = $condition_analysis-&gt;is_local_to( $self-&gt;pipeline );</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>($ctrled_is_local and !$condition_is_local) {     # <span class="keyword">register</span> a <span class="keyword">new</span> <span class="stringliteral">&quot;near neighbour&quot;</span> node <span class="keywordflow">if</span> it<span class="stringliteral">&#39;s reachable by following one rule &quot;out&quot;:</span></div><div class="line"><span class="stringliteral">            $self-&gt;{&#39;</span>_foreign_analyses<span class="stringliteral">&#39;}{ $condition_analysis-&gt;relative_display_name($self-&gt;pipeline) } = $condition_analysis;</span></div><div class="line"><span class="stringliteral">        }</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">        next unless( $ctrled_is_local or $condition_is_local or $self-&gt;{&#39;</span>_foreign_analyses<span class="stringliteral">&#39;}{ $condition_analysis-&gt;relative_display_name($self-&gt;pipeline) } );</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">        my $from_node_name      = $self-&gt;_analysis_node_name( $condition_analysis );</span></div><div class="line"><span class="stringliteral">        my $to_node_name        = $self-&gt;_analysis_node_name( $ctrled_analysis );</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">        $graph-&gt;add_edge( $from_node_name =&gt; $to_node_name,</span></div><div class="line"><span class="stringliteral">            color =&gt; $control_colour,</span></div><div class="line"><span class="stringliteral">            arrowhead =&gt; &#39;</span>tee<span class="stringliteral">&#39;,</span></div><div class="line"><span class="stringliteral">        );</span></div><div class="line"><span class="stringliteral">    }</span></div><div class="line"><span class="stringliteral">}</span></div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a3b32094dcff97c58cc418c436a01e9da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b32094dcff97c58cc418c436a01e9da">&#9670;&nbsp;</a></span>_add_dataflow_rules()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_add_dataflow_rules </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_add_dataflow_rules" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_add_dataflow_rules-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_add_dataflow_rules-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_add_dataflow_rules-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a3b32094dcff97c58cc418c436a01e9da">_add_dataflow_rules</a> {</div><div class="line">    my ($self, $from_analysis) = @_;</div><div class="line"></div><div class="line">    my $graph               = $self-&gt;graph();</div><div class="line">    my $semablock_colour    = $self-&gt;config_get(<span class="stringliteral">&#39;Edge&#39;</span>, <span class="stringliteral">&#39;Semablock&#39;</span>, <span class="stringliteral">&#39;Colour&#39;</span>);</div><div class="line"></div><div class="line">    <span class="keywordflow">foreach</span> my $group ( @{ $self-&gt;_grouped_dataflow_rules($from_analysis) } ) {</div><div class="line"></div><div class="line">        my ($df_rule, $fan_dfrs, $df_targets) = @$group;</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>(@$fan_dfrs) {    # semaphored funnel <span class="keywordflow">case</span> =&gt; all rules have an Analysis target and have two parts:</div><div class="line"></div><div class="line">            my $funnel_midpoint_name = $self-&gt;_twopart_arrow( $df_rule, $df_targets );</div><div class="line"></div><div class="line">            <span class="keywordflow">foreach</span> my $fan_dfr (@$fan_dfrs) {</div><div class="line">                my $fan_midpoint_name = $self-&gt;_twopart_arrow( $fan_dfr );</div><div class="line"></div><div class="line"><span class="preprocessor">                    # add a semaphore inter-rule blocking arc:</span></div><div class="line">                $graph-&gt;add_edge( $fan_midpoint_name =&gt; $funnel_midpoint_name,</div><div class="line">                    color     =&gt; $semablock_colour,</div><div class="line">                    style     =&gt; <span class="stringliteral">&#39;dashed&#39;</span>,</div><div class="line">                    dir       =&gt; <span class="stringliteral">&#39;both&#39;</span>,</div><div class="line">                    arrowhead =&gt; <span class="stringliteral">&#39;tee&#39;</span>,</div><div class="line">                    arrowtail =&gt; <span class="stringliteral">&#39;crow&#39;</span>,</div><div class="line">                );</div><div class="line">            }</div><div class="line"></div><div class="line">        } <span class="keywordflow">else</span> {</div><div class="line">            my $choice      = (scalar(@$df_targets)!=1) || defined($df_targets-&gt;[0]-&gt;on_condition);</div><div class="line"></div><div class="line">            <span class="keywordflow">if</span>($choice) {</div><div class="line">                $self-&gt;_twopart_arrow( $df_rule, $df_targets );</div><div class="line">            } <span class="keywordflow">else</span> {</div><div class="line">                my $from_node_name  = $self-&gt;_analysis_node_name( $from_analysis );</div><div class="line">                my $df_target       = $df_targets-&gt;[0];</div><div class="line"></div><div class="line">                $self-&gt;_last_part_arrow($from_analysis, $from_node_name, <span class="charliteral">&#39;#&#39;</span>.$df_rule-&gt;branch_code, $df_target, []);</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">    } # /<span class="keywordflow">foreach</span> my $group</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a7f66903e2bbdee1dc8facbb2274ac6b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f66903e2bbdee1dc8facbb2274ac6b9">&#9670;&nbsp;</a></span>_add_pipeline_label()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_add_pipeline_label </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_add_pipeline_label" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_add_pipeline_label-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_add_pipeline_label-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_add_pipeline_label-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a7f66903e2bbdee1dc8facbb2274ac6b9">_add_pipeline_label</a> {</div><div class="line">    my ($self, $pipeline) = @_;</div><div class="line"></div><div class="line">    my $node_fontname       = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;Details&#39;</span>, <span class="stringliteral">&#39;Font&#39;</span>);</div><div class="line">    my $pipeline_label      = $pipeline-&gt;display_name;</div><div class="line">    my $pipelabel_node_name = <span class="stringliteral">&#39;pipelabel_&#39;</span>.$pipeline-&gt;hive_pipeline_name;</div><div class="line">       $pipelabel_node_name =~ s/\./_/g;</div><div class="line"></div><div class="line">    $self-&gt;graph()-&gt;add_node( $pipelabel_node_name,</div><div class="line">        shape     =&gt; <span class="stringliteral">&#39;plaintext&#39;</span>,</div><div class="line">        fontname  =&gt; $node_fontname,</div><div class="line">        label     =&gt; $pipeline_label,</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> $pipelabel_node_name;</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a5f15e355d2750a68a1a219ef2decc55a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f15e355d2750a68a1a219ef2decc55a">&#9670;&nbsp;</a></span>_add_table_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_add_table_node </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_add_table_node" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_add_table_node-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_add_table_node-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_add_table_node-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a5f15e355d2750a68a1a219ef2decc55a">_add_table_node</a> {</div><div class="line">    my ($self, $naked_table) = @_;</div><div class="line"></div><div class="line">    my $table_shape             = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;Table&#39;</span>, <span class="stringliteral">&#39;Shape&#39;</span>);</div><div class="line">    my $table_style             = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;Table&#39;</span>, <span class="stringliteral">&#39;Style&#39;</span>);</div><div class="line">    my $table_colour            = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;Table&#39;</span>, <span class="stringliteral">&#39;Colour&#39;</span>);</div><div class="line">    my $table_header_colour     = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;Table&#39;</span>, <span class="stringliteral">&#39;HeaderColour&#39;</span>);</div><div class="line">    my $table_fontcolour        = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;Table&#39;</span>, <span class="stringliteral">&#39;FontColour&#39;</span>);</div><div class="line">    my $table_fontname          = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;Table&#39;</span>, <span class="stringliteral">&#39;Font&#39;</span>);</div><div class="line"></div><div class="line">    my $hive_pipeline           = $self-&gt;pipeline;</div><div class="line">    my $this_table_node_name    = $self-&gt;_table_node_name( $naked_table );</div><div class="line"></div><div class="line">    my (@column_names, $columns, $table_data, $data_limit, $hit_limit);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>( $data_limit = $self-&gt;config_get(<span class="stringliteral">&#39;DisplayData&#39;</span>) and my $naked_table_adaptor = $naked_table-&gt;adaptor ) {</div><div class="line"></div><div class="line">        @column_names = sort keys %{$naked_table_adaptor-&gt;column_set};</div><div class="line">        $columns = scalar(@column_names);</div><div class="line">        $table_data = $naked_table_adaptor-&gt;fetch_all( <span class="stringliteral">&#39;LIMIT &#39;</span>.($data_limit+1) );</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>(scalar(@$table_data)&gt;$data_limit) {</div><div class="line">            pop @$table_data;</div><div class="line">            $hit_limit = 1;</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    my $table_label = <span class="stringliteral">&#39;&lt;&lt;table border=&quot;0&quot; cellborder=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;&lt;tr&gt;&lt;td colspan=&quot;&#39;</span>.($columns||1).<span class="stringliteral">&#39;&quot;&gt;&#39;</span>. $naked_table-&gt;relative_display_name( $hive_pipeline ) .<span class="stringliteral">&#39;&lt;/td&gt;&lt;/tr&gt;&#39;</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>( $self-&gt;config_get(<span class="stringliteral">&#39;DisplayData&#39;</span>) and $columns) {</div><div class="line">        $table_label .= <span class="stringliteral">&#39;&lt;tr&gt;&lt;td colspan=&quot;&#39;</span>.$columns.<span class="stringliteral">&#39;&quot;&gt; &lt;/td&gt;&lt;/tr&gt;&#39;</span>;</div><div class="line">        $table_label .= <span class="stringliteral">&#39;&lt;tr&gt;&#39;</span>.join(<span class="stringliteral">&#39;&#39;</span>, map { qq{&lt;td bgcolor=<span class="stringliteral">&quot;$table_header_colour&quot;</span> border=<span class="stringliteral">&quot;1&quot;</span>&gt;$_&lt;/td&gt;} } @column_names).<span class="stringliteral">&#39;&lt;/tr&gt;&#39;</span>;</div><div class="line">        <span class="keywordflow">foreach</span> my $row (@$table_data) {</div><div class="line">            $table_label .= <span class="stringliteral">&#39;&lt;tr&gt;&#39;</span>.join(<span class="stringliteral">&#39;&#39;</span>, map { qq{&lt;td&gt;$_&lt;/td&gt;} } @{$row}{@column_names}).<span class="stringliteral">&#39;&lt;/tr&gt;&#39;</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">if</span>($hit_limit) {</div><div class="line">            $table_label  .= qq{&lt;tr&gt;&lt;td colspan=<span class="stringliteral">&quot;$columns&quot;</span>&gt;[ more data ]&lt;/td&gt;&lt;/tr&gt;};</div><div class="line">        }</div><div class="line">    }</div><div class="line">    $table_label .= <span class="stringliteral">&#39;&lt;/table&gt;&gt;&#39;</span>;</div><div class="line"></div><div class="line">    $self-&gt;graph()-&gt;add_node( $this_table_node_name,</div><div class="line">        shape       =&gt; <span class="stringliteral">&#39;record&#39;</span>,</div><div class="line">        comment     =&gt; qq{new_shape:$table_shape},</div><div class="line">        style       =&gt; $table_style,</div><div class="line">        fillcolor   =&gt; $table_colour,</div><div class="line">        fontname    =&gt; $table_fontname,</div><div class="line">        fontcolor   =&gt; $table_fontcolour,</div><div class="line">        label       =&gt; $table_label,</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> $this_table_node_name;</div><div class="line">}</div><div class="line"></div><div class="line">1;</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="ab6415312e311c5a6fe8d7aa89ba3684a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6415312e311c5a6fe8d7aa89ba3684a">&#9670;&nbsp;</a></span>_analysis_node_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_analysis_node_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_analysis_node_name" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_analysis_node_name-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_analysis_node_name-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_analysis_node_name-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#ab6415312e311c5a6fe8d7aa89ba3684a">_analysis_node_name</a> {</div><div class="line">    my ($self, $analysis) = @_;</div><div class="line"></div><div class="line">    my $analysis_node_name = <span class="stringliteral">&#39;analysis_&#39;</span> . $analysis-&gt;relative_display_name( $self-&gt;pipeline );</div><div class="line">    <span class="keywordflow">if</span>($analysis_node_name=~s/\W/__/g) {</div><div class="line">        $analysis_node_name = <span class="stringliteral">&#39;foreign_&#39;</span> . $analysis_node_name;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> $analysis_node_name;</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a883984099d3dcf88852d734273a5cfe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a883984099d3dcf88852d734273a5cfe2">&#9670;&nbsp;</a></span>_cluster_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_cluster_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_cluster_name" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_cluster_name-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_cluster_name-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_cluster_name-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a883984099d3dcf88852d734273a5cfe2">_cluster_name</a> {</div><div class="line">    my ($df_rule) = @_;</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> UNIVERSAL::isa($df_rule, <span class="stringliteral">&#39;Bio::EnsEMBL::Hive::DataflowRule&#39;</span>) ? <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a546d1e3d214a8c2ba2c25a8d94ac0813">_midpoint_name</a>($df_rule) : ($df_rule || <span class="stringliteral">&#39;&#39;</span>);</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a9e2b089774f68bf5602c028ea02694ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e2b089774f68bf5602c028ea02694ca">&#9670;&nbsp;</a></span>_grouped_dataflow_rules()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_grouped_dataflow_rules </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_grouped_dataflow_rules" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_grouped_dataflow_rules-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_grouped_dataflow_rules-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_grouped_dataflow_rules-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a9e2b089774f68bf5602c028ea02694ca">_grouped_dataflow_rules</a> {</div><div class="line">    my ($self, $analysis) = @_;</div><div class="line"></div><div class="line">    my $gdr = $self-&gt;{<span class="stringliteral">&#39;_gdr&#39;</span>} ||= {};</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> $gdr-&gt;{$analysis} ||= $analysis-&gt;get_grouped_dataflow_rules;</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a91a87a549f90a8c7794aff3643cebbc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91a87a549f90a8c7794aff3643cebbc9">&#9670;&nbsp;</a></span>_last_part_arrow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_last_part_arrow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_last_part_arrow" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_last_part_arrow-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_last_part_arrow-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_last_part_arrow-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a91a87a549f90a8c7794aff3643cebbc9">_last_part_arrow</a> {</div><div class="line">    my ($self, $from_analysis, $source_node_name, $label_prefix, $df_target, $extras) = @_;</div><div class="line"></div><div class="line">    my $graph               = $self-&gt;graph();</div><div class="line">    my $dataflow_colour     = $self-&gt;config_get(<span class="stringliteral">&#39;Edge&#39;</span>, <span class="stringliteral">&#39;Data&#39;</span>, <span class="stringliteral">&#39;Colour&#39;</span>);</div><div class="line">    my $accu_colour         = $self-&gt;config_get(<span class="stringliteral">&#39;Edge&#39;</span>, <span class="stringliteral">&#39;Accu&#39;</span>, <span class="stringliteral">&#39;Colour&#39;</span>);</div><div class="line">    my $df_edge_fontname    = $self-&gt;config_get(<span class="stringliteral">&#39;Edge&#39;</span>, <span class="stringliteral">&#39;Data&#39;</span>, <span class="stringliteral">&#39;Font&#39;</span>);</div><div class="line"></div><div class="line">    my $target_object       = $df_target-&gt;to_analysis;</div><div class="line">    my $target_node_name    =</div><div class="line">            UNIVERSAL::isa($target_object, <span class="stringliteral">&#39;Bio::EnsEMBL::Hive::Analysis&#39;</span>)      ? $self-&gt;_add_analysis_node( $target_object )</div><div class="line">        :   UNIVERSAL::isa($target_object, <span class="stringliteral">&#39;Bio::EnsEMBL::Hive::NakedTable&#39;</span>)    ? $self-&gt;_add_table_node( $target_object )</div><div class="line">        :   UNIVERSAL::isa($target_object, <span class="stringliteral">&#39;Bio::EnsEMBL::Hive::Accumulator&#39;</span>)   ? $self-&gt;_add_accu_sink_node( $from_analysis-&gt;{<span class="stringliteral">&#39;_funnel_dfr&#39;</span>} )</div><div class="line">        :   die <span class="stringliteral">&quot;Unknown node type&quot;</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(UNIVERSAL::isa($target_object, <span class="stringliteral">&#39;Bio::EnsEMBL::Hive::Analysis&#39;</span>)) {    # skip some *really* foreign dataflow rules:</div><div class="line"></div><div class="line">        my $from_is_local   = $from_analysis-&gt;is_local_to( $self-&gt;pipeline );</div><div class="line">        my $target_is_local = $target_object-&gt;is_local_to( $self-&gt;pipeline );</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>($from_is_local and !$target_is_local) {  # <span class="keyword">register</span> a <span class="keyword">new</span> <span class="stringliteral">&quot;near neighbour&quot;</span> node <span class="keywordflow">if</span> it<span class="stringliteral">&#39;s reachable by following one rule &quot;out&quot;:</span></div><div class="line"><span class="stringliteral">            $self-&gt;{&#39;</span>_foreign_analyses<span class="stringliteral">&#39;}{ $target_object-&gt;relative_display_name($self-&gt;pipeline) } = $target_object;</span></div><div class="line"><span class="stringliteral">        }</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">        return unless( $from_is_local or $target_is_local or $self-&gt;{&#39;</span>_foreign_analyses<span class="stringliteral">&#39;}{ $target_object-&gt;relative_display_name($self-&gt;pipeline) } );</span></div><div class="line"><span class="stringliteral">    }</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">    my $input_id_template   = $self-&gt;config_get(&#39;</span>DisplayInputIDTemplate<span class="stringliteral">&#39;) ? $df_target-&gt;input_id_template : undef;</span></div><div class="line"><span class="stringliteral">    my $extend_param_stack  = $df_target-&gt;extend_param_stack;</span></div><div class="line"><span class="stringliteral">    my $multistring_template= ($extend_param_stack ? &quot;INPUT_PLUS &quot; : &#39;</span><span class="stringliteral">&#39;)</span></div><div class="line"><span class="stringliteral">                             .($input_id_template  ?  &#39;</span>{<span class="stringliteral">&#39;.join(&quot;,\n&quot;, sort keys( %{destringify($input_id_template)} )).&#39;</span>}<span class="stringliteral">&#39;</span></div><div class="line"><span class="stringliteral">                                                   : ($extend_param_stack ? &#39;</span><span class="stringliteral">&#39; : &#39;</span><span class="stringliteral">&#39;) );</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">    $graph-&gt;add_edge( $source_node_name =&gt; $target_node_name,</span></div><div class="line"><span class="stringliteral">        @$extras,</span></div><div class="line"><span class="stringliteral">        UNIVERSAL::isa($target_object, &#39;</span><a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Accumulator.html">Bio::EnsEMBL::Hive::Accumulator</a><span class="stringliteral">&#39;)</span></div><div class="line"><span class="stringliteral">            ? (</span></div><div class="line"><span class="stringliteral">                color       =&gt; $accu_colour,</span></div><div class="line"><span class="stringliteral">                fontcolor   =&gt; $accu_colour,</span></div><div class="line"><span class="stringliteral">                style       =&gt; &#39;</span>dashed<span class="stringliteral">&#39;,</span></div><div class="line"><span class="stringliteral">                dir         =&gt; &#39;</span>both<span class="stringliteral">&#39;,</span></div><div class="line"><span class="stringliteral">                arrowtail   =&gt; &#39;</span>crow<span class="stringliteral">&#39;,</span></div><div class="line"><span class="stringliteral">                label       =&gt; $label_prefix.&quot;\n=&gt; &quot;.$target_object-&gt;relative_display_name( $self-&gt;pipeline ),</span></div><div class="line"><span class="stringliteral">            ) : (</span></div><div class="line"><span class="stringliteral">                color       =&gt; $dataflow_colour,</span></div><div class="line"><span class="stringliteral">                fontcolor   =&gt; $dataflow_colour,</span></div><div class="line"><span class="stringliteral">                label       =&gt; $label_prefix.&quot;\n&quot;.$multistring_template,</span></div><div class="line"><span class="stringliteral">            ),</span></div><div class="line"><span class="stringliteral">        fontname    =&gt; $df_edge_fontname,</span></div><div class="line"><span class="stringliteral">    );</span></div><div class="line"><span class="stringliteral">}</span></div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a546d1e3d214a8c2ba2c25a8d94ac0813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a546d1e3d214a8c2ba2c25a8d94ac0813">&#9670;&nbsp;</a></span>_midpoint_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_midpoint_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_midpoint_name" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_midpoint_name-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_midpoint_name-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_midpoint_name-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a546d1e3d214a8c2ba2c25a8d94ac0813">_midpoint_name</a> {</div><div class="line">    my ($df_rule) = @_;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>($df_rule and scalar($df_rule)=~/\((\w+)\)/) {     # a unique <span class="keywordtype">id</span> of a df_rule assuming dbIDs are not available</div><div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&#39;dfr_&#39;</span>.$1.<span class="stringliteral">&#39;_mp&#39;</span>;</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">        <span class="keywordflow">throw</span>(<span class="stringliteral">&quot;Wrong argument to _midpoint_name&quot;</span>);</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="aefb7c89ca1e64a84a64329aa7277e612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefb7c89ca1e64a84a64329aa7277e612">&#9670;&nbsp;</a></span>_propagate_allocation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_propagate_allocation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_propagate_allocation" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_propagate_allocation-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_propagate_allocation-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_propagate_allocation-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#aefb7c89ca1e64a84a64329aa7277e612">_propagate_allocation</a> {</div><div class="line">    my ($self, $source_object, $curr_allocation ) = @_;</div><div class="line"></div><div class="line">    $curr_allocation ||= $source_object-&gt;hive_pipeline-&gt;hive_pipeline_name;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(!exists $source_object-&gt;{<span class="stringliteral">&#39;_funnel_dfr&#39;</span>} ) {     # only allocate on the first-come basis:</div><div class="line">        $source_object-&gt;{<span class="stringliteral">&#39;_funnel_dfr&#39;</span>} = $curr_allocation;</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>(UNIVERSAL::isa($source_object, <span class="stringliteral">&#39;Bio::EnsEMBL::Hive::Analysis&#39;</span>)) {</div><div class="line"></div><div class="line">            <span class="keywordflow">foreach</span> my $group ( @{ $self-&gt;_grouped_dataflow_rules($source_object) } ) {</div><div class="line"></div><div class="line">                my ($df_rule, $fan_dfrs, $df_targets) = @$group;</div><div class="line"></div><div class="line">                $df_rule-&gt;{<span class="stringliteral">&#39;_funnel_dfr&#39;</span>} = $curr_allocation;</div><div class="line"></div><div class="line">                <span class="keywordflow">foreach</span> my $df_target (@$df_targets) {</div><div class="line">                    my $target_object       = $df_target-&gt;to_analysis;</div><div class="line"></div><div class="line"><span class="preprocessor">                        #   In case we have crossed pipeline borders, let the next call decide its own allocation by resetting it.</span></div><div class="line">                    $self-&gt;_propagate_allocation( $target_object, ($source_object-&gt;hive_pipeline == $target_object-&gt;hive_pipeline) ? $curr_allocation : <span class="stringliteral">&#39;&#39;</span> );</div><div class="line">                }</div><div class="line"></div><div class="line"><span class="preprocessor">                    # all fan members point to the funnel.</span></div><div class="line"><span class="preprocessor">                    #   Request midpoint&#39;s allocation since we definitely have a funnel to link to.</span></div><div class="line">                <span class="keywordflow">foreach</span> my $fan_dfr (@$fan_dfrs) {</div><div class="line">                    $fan_dfr-&gt;{<span class="stringliteral">&#39;_funnel_dfr&#39;</span>} = $curr_allocation;</div><div class="line"></div><div class="line">                    <span class="keywordflow">foreach</span> my $df_target (@{ $fan_dfr-&gt;get_my_targets }) {</div><div class="line">                        my $fan_target_object = $df_target-&gt;to_analysis;</div><div class="line"></div><div class="line">                        $self-&gt;_propagate_allocation( $fan_target_object, ($source_object-&gt;hive_pipeline == $fan_target_object-&gt;hive_pipeline) ? $df_rule : <span class="stringliteral">&#39;&#39;</span> );</div><div class="line">                    }</div><div class="line">                }</div><div class="line"></div><div class="line">            } # /<span class="keywordflow">foreach</span> group</div><div class="line">        } # <span class="keywordflow">if</span> source_object isa Analysis</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="af860b66fd159323a7c507fa27b2f3794"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af860b66fd159323a7c507fa27b2f3794">&#9670;&nbsp;</a></span>_table_node_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_table_node_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_table_node_name" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_table_node_name-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_table_node_name-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_table_node_name-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#af860b66fd159323a7c507fa27b2f3794">_table_node_name</a> {</div><div class="line">    my ($self, $naked_table) = @_;</div><div class="line"></div><div class="line">    my $table_node_name = <span class="stringliteral">&#39;table_&#39;</span> . $naked_table-&gt;relative_display_name( $self-&gt;pipeline );</div><div class="line">    $table_node_name=~s/\W/__/g;</div><div class="line">    <span class="keywordflow">return</span> $table_node_name;</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a9e205f13dfb3d9993e84c379d50bd8a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e205f13dfb3d9993e84c379d50bd8a6">&#9670;&nbsp;</a></span>_twopart_arrow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::Utils::Graph::_twopart_arrow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_twopart_arrow" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_twopart_arrow-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_twopart_arrow-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_twopart_arrow-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a9e205f13dfb3d9993e84c379d50bd8a6">_twopart_arrow</a> {</div><div class="line">    my ($self, $df_rule, $df_targets) = @_;</div><div class="line"></div><div class="line">    my $graph               = $self-&gt;graph();</div><div class="line">    my $df_edge_fontname    = $self-&gt;config_get(<span class="stringliteral">&#39;Edge&#39;</span>, <span class="stringliteral">&#39;Data&#39;</span>, <span class="stringliteral">&#39;Font&#39;</span>);</div><div class="line">    my $switch_shape        = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;Switch&#39;</span>, <span class="stringliteral">&#39;Shape&#39;</span>);</div><div class="line">    my $switch_style        = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;Switch&#39;</span>, <span class="stringliteral">&#39;Style&#39;</span>);</div><div class="line">    my $switch_colour       = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;Switch&#39;</span>, <span class="stringliteral">&#39;Colour&#39;</span>);</div><div class="line">    my $switch_font         = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;Switch&#39;</span>, <span class="stringliteral">&#39;Font&#39;</span>);</div><div class="line">    my $switch_fontcolour   = $self-&gt;config_get(<span class="stringliteral">&#39;Node&#39;</span>, <span class="stringliteral">&#39;Switch&#39;</span>, <span class="stringliteral">&#39;FontColour&#39;</span>);</div><div class="line">    my $display_cond_length = $self-&gt;config_get(<span class="stringliteral">&#39;DisplayConditionLength&#39;</span>);</div><div class="line"></div><div class="line">    my $from_analysis       = $df_rule-&gt;from_analysis;</div><div class="line">    my $from_node_name      = $self-&gt;_analysis_node_name( $from_analysis );</div><div class="line">    my $midpoint_name       = <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a546d1e3d214a8c2ba2c25a8d94ac0813">_midpoint_name</a>( $df_rule );</div><div class="line"></div><div class="line">       $df_targets        ||= $df_rule-&gt;get_my_targets;</div><div class="line">    my $choice              = (scalar(@$df_targets)!=1) || defined($df_targets-&gt;[0]-&gt;on_condition);</div><div class="line"><span class="preprocessor">    #my $label               = scalar(@$df_targets)==1 ? &#39;Filter&#39; : &#39;Switch&#39;;</span></div><div class="line">    my $tablabel            = qq{&lt;&lt;table border=<span class="stringliteral">&quot;0&quot;</span> cellborder=<span class="stringliteral">&quot;0&quot;</span> cellspacing=<span class="stringliteral">&quot;0&quot;</span> cellpadding=<span class="stringliteral">&quot;1&quot;</span>&gt;i&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;};</div><div class="line"></div><div class="line">    my $targets_grouped_by_condition = $df_rule-&gt;get_my_targets_grouped_by_condition( $df_targets );</div><div class="line"></div><div class="line">    <span class="keywordflow">foreach</span> my $i (0..scalar(@$targets_grouped_by_condition)-1) {</div><div class="line"></div><div class="line">        my $condition = $targets_grouped_by_condition-&gt;[$i]-&gt;[0];</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>($display_cond_length) {</div><div class="line">            <span class="keywordflow">if</span>(defined($condition)) {</div><div class="line">                $condition=~s{^(.{$display_cond_length}).+}{$1 \.\.\.};     # shorten down to $display_cond_length characters</div><div class="line"></div><div class="line">                $condition=~s{&amp;}{&amp;amp;}g;   # Since we are in HTML <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Configurable.html#a419025891535ecd7b2f05183cf2ce8e4">context</a> now, ampersands should be escaped (first thing after trimming)</div><div class="line">                $condition=~s{<span class="stringliteral">&quot;}{&amp;quot;}g;  # should fix a string display bug for pre-2.16 GraphViz&#39;es</span></div><div class="line"><span class="stringliteral">                $condition=~s{&lt;}{&amp;lt;}g;</span></div><div class="line"><span class="stringliteral">                $condition=~s{&gt;}{&amp;gt;}g;</span></div><div class="line"><span class="stringliteral">            }</span></div><div class="line"><span class="stringliteral">        } else {</span></div><div class="line"><span class="stringliteral">            $condition &amp;&amp;= &#39;condition_&#39;.$i;</span></div><div class="line"><span class="stringliteral">        }</span></div><div class="line"><span class="stringliteral">        $tablabel .= qq{&lt;tr&gt;&lt;td port=&quot;</span>cond_$i<span class="stringliteral">&quot;&gt;}.((defined $condition) ? &quot;</span>WHEN $condition<span class="stringliteral">&quot; : $choice ? &#39;ELSE&#39; : &#39;&#39;).&quot;</span>&lt;/td&gt;&lt;/tr&gt;<span class="stringliteral">&quot;;</span></div><div class="line"><span class="stringliteral">    }</span></div><div class="line"><span class="stringliteral">    $tablabel .= &#39;&lt;/table&gt;&gt;&#39;;</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">    $graph-&gt;add_node( $midpoint_name,   # midpoint itself</span></div><div class="line"><span class="stringliteral">        $choice ? (</span></div><div class="line"><span class="stringliteral">            shape       =&gt; &#39;record&#39;,</span></div><div class="line"><span class="stringliteral">            comment     =&gt; qq{new_shape:$switch_shape},</span></div><div class="line"><span class="stringliteral">            style       =&gt; $switch_style,</span></div><div class="line"><span class="stringliteral">            fillcolor   =&gt; $switch_colour,</span></div><div class="line"><span class="stringliteral">            fontname    =&gt; $switch_font,</span></div><div class="line"><span class="stringliteral">            fontcolor   =&gt; $switch_fontcolour,</span></div><div class="line"><span class="stringliteral">            label       =&gt; $tablabel,</span></div><div class="line"><span class="stringliteral">        ) : (</span></div><div class="line"><span class="stringliteral">            shape       =&gt; &#39;point&#39;,</span></div><div class="line"><span class="stringliteral">            fixedsize   =&gt; 1,</span></div><div class="line"><span class="stringliteral">            width       =&gt; 0.01,</span></div><div class="line"><span class="stringliteral">            height      =&gt; 0.01,</span></div><div class="line"><span class="stringliteral">        ),</span></div><div class="line"><span class="stringliteral">    );</span></div><div class="line"><span class="stringliteral">    $graph-&gt;add_edge( $from_node_name =&gt; $midpoint_name, # first half of the two-part arrow</span></div><div class="line"><span class="stringliteral">        color       =&gt; &#39;black&#39;,</span></div><div class="line"><span class="stringliteral">        fontcolor   =&gt; &#39;black&#39;,</span></div><div class="line"><span class="stringliteral">        fontname    =&gt; $df_edge_fontname,</span></div><div class="line"><span class="stringliteral">        label       =&gt; &#39;#&#39;.$df_rule-&gt;branch_code,</span></div><div class="line"><span class="stringliteral">        headport    =&gt; &#39;n&#39;,</span></div><div class="line"><span class="stringliteral">        $choice ? (</span></div><div class="line"><span class="stringliteral">            arrowhead   =&gt; &#39;normal&#39;,</span></div><div class="line"><span class="stringliteral">        ) : (</span></div><div class="line"><span class="stringliteral">            arrowhead   =&gt; &#39;none&#39;,</span></div><div class="line"><span class="stringliteral">        ),</span></div><div class="line"><span class="stringliteral">    );</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">    foreach my $i (0..scalar(@$targets_grouped_by_condition)-1) {</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">        my $target_group = $targets_grouped_by_condition-&gt;[$i]-&gt;[1];</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">        foreach my $df_target (@$target_group) {</span></div><div class="line"><span class="stringliteral">            $self-&gt;_last_part_arrow($from_analysis, $midpoint_name, &#39;&#39;, $df_target, $choice ? [ tailport =&gt; &quot;</span>cond_$i<span class="stringliteral">&quot; ] : [ tailport =&gt; &#39;s&#39; ]);</span></div><div class="line"><span class="stringliteral">        }</span></div><div class="line"><span class="stringliteral">    }</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">    return $midpoint_name;</span></div><div class="line"><span class="stringliteral">}</span></div></div><!-- fragment --> </div> 
</div>
</div>
<a id="ad7fad3a0d313ae9d07c6b6e636876109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7fad3a0d313ae9d07c6b6e636876109">&#9670;&nbsp;</a></span>build()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public The Bio::EnsEMBL::Hive::Utils::Graph::build </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Returntype : The <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1GraphViz.html">GraphViz</a> object built &amp; populated
  Exceptions : Raised if there are issues with accessing the database
  Description : Builds the graph object and returns it.
  Status     : Beta</pre><pre> </pre><div id="codesection-build" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-build-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-build-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-build-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#ad7fad3a0d313ae9d07c6b6e636876109">build</a> {</div><div class="line">    my ($self) = @_;</div><div class="line"></div><div class="line">    my $main_pipeline    = $self-&gt;pipeline;</div><div class="line"></div><div class="line">    <span class="keywordflow">foreach</span> my $source_analysis ( @{ $main_pipeline-&gt;get_source_analyses } ) {</div><div class="line"><span class="preprocessor">            # run the recursion in each component that has a non-cyclic start:</span></div><div class="line">        $self-&gt;_propagate_allocation( $source_analysis );</div><div class="line">    }</div><div class="line">    <span class="keywordflow">foreach</span> my $cyclic_analysis ( $main_pipeline-&gt;collection_of( <span class="stringliteral">&#39;Analysis&#39;</span> )-&gt;list ) {</div><div class="line">        next <span class="keywordflow">if</span>(defined $cyclic_analysis-&gt;{<span class="stringliteral">&#39;_funnel_dfr&#39;</span>});</div><div class="line">        $self-&gt;_propagate_allocation( $cyclic_analysis );</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">foreach</span> my $source_analysis ( @{ $main_pipeline-&gt;get_source_analyses } ) {</div><div class="line"><span class="preprocessor">            # run the recursion in each component that has a non-cyclic start:</span></div><div class="line">        $self-&gt;_add_analysis_node( $source_analysis );</div><div class="line">    }</div><div class="line">    <span class="keywordflow">foreach</span> my $cyclic_analysis ( $main_pipeline-&gt;collection_of( <span class="stringliteral">&#39;Analysis&#39;</span> )-&gt;list ) {</div><div class="line">        next <span class="keywordflow">if</span>($self-&gt;{<span class="stringliteral">&#39;_created_analysis&#39;</span>}{ $cyclic_analysis });</div><div class="line">        $self-&gt;_add_analysis_node( $cyclic_analysis );</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>($self-&gt;config_get(<span class="stringliteral">&#39;DisplayStretched&#39;</span>) ) {    # put each analysis before its<span class="stringliteral">&#39; funnel midpoint</span></div><div class="line"><span class="stringliteral">        foreach my $analysis ( $main_pipeline-&gt;collection_of(&#39;</span>Analysis<span class="stringliteral">&#39;)-&gt;list ) {</span></div><div class="line"><span class="stringliteral">            if(ref($analysis-&gt;{&#39;</span>_funnel_dfr<span class="stringliteral">&#39;})) {    # this should only affect analyses that have a funnel</span></div><div class="line"><span class="stringliteral">                my $from = $self-&gt;_analysis_node_name( $analysis );</span></div><div class="line"><span class="stringliteral">                my $to   = _midpoint_name( $analysis-&gt;{&#39;</span>_funnel_dfr<span class="stringliteral">&#39;} );</span></div><div class="line"><span class="stringliteral">                $self-&gt;graph-&gt;add_edge( $from =&gt; $to,</span></div><div class="line"><span class="stringliteral">                    style     =&gt; &#39;</span>invis<span class="stringliteral">&#39;,   # toggle visibility by changing &#39;</span>invis<span class="stringliteral">&#39; to &#39;</span>dashed<span class="stringliteral">&#39;</span></div><div class="line"><span class="stringliteral">                    color     =&gt; &#39;</span>black<span class="stringliteral">&#39;,</span></div><div class="line"><span class="stringliteral">                );</span></div><div class="line"><span class="stringliteral">            }</span></div><div class="line"><span class="stringliteral">        }</span></div><div class="line"><span class="stringliteral">    }</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">    my %cluster_2_nodes = ();</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">    if( $self-&gt;config_get(&#39;</span>DisplayDetails<span class="stringliteral">&#39;) ) {</span></div><div class="line"><span class="stringliteral">        foreach my $pipeline ( $main_pipeline, values %{Bio::EnsEMBL::Hive::TheApiary-&gt;pipelines_collection} ) {</span></div><div class="line"><span class="stringliteral">            my $pipelabel_node_name = $self-&gt;_add_pipeline_label( $pipeline );</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">            push @{$cluster_2_nodes{ $pipeline-&gt;hive_pipeline_name } }, $pipelabel_node_name;</span></div><div class="line"><span class="stringliteral">        }</span></div><div class="line"><span class="stringliteral">    }</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">    if($self-&gt;config_get(&#39;</span>DisplaySemaphoreBoxes<span class="stringliteral">&#39;) ) {</span></div><div class="line"><span class="stringliteral">        foreach my $analysis ( $main_pipeline-&gt;collection_of(&#39;</span>Analysis<span class="stringliteral">&#39;)-&gt;list, values %{ $self-&gt;{&#39;</span>_foreign_analyses<span class="stringliteral">&#39;} } ) {</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">            push @{$cluster_2_nodes{ _cluster_name( $analysis-&gt;{&#39;</span>_funnel_dfr<span class="stringliteral">&#39;} ) } }, $self-&gt;_analysis_node_name( $analysis );</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">            foreach my $group ( @{ $self-&gt;_grouped_dataflow_rules($analysis) } ) {</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">                my ($df_rule, $fan_dfrs, $df_targets) = @$group;</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">                my $choice      = (scalar(@$df_targets)!=1) || defined($df_targets-&gt;[0]-&gt;on_condition);</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">                if(@$fan_dfrs or $choice) {</span></div><div class="line"><span class="stringliteral">                    push @{$cluster_2_nodes{ _cluster_name( $df_rule-&gt;{&#39;</span>_funnel_dfr<span class="stringliteral">&#39;} ) }}, _midpoint_name( $df_rule ); # top-level funnels define clusters (top-level &quot;boxes&quot;)</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">                    foreach my $fan_dfr (@$fan_dfrs) {</span></div><div class="line"><span class="stringliteral">                        push @{$cluster_2_nodes{ _cluster_name( $fan_dfr-&gt;{&#39;</span>_funnel_dfr<span class="stringliteral">&#39;} ) } }, _midpoint_name( $fan_dfr ); # midpoints of rules that have a funnel live inside &quot;boxes&quot;</span></div><div class="line"><span class="stringliteral">                    }</span></div><div class="line"><span class="stringliteral">                }</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">                foreach my $df_target (@$df_targets) {</span></div><div class="line"><span class="stringliteral">                    my $target_object = $df_target-&gt;to_analysis;</span></div><div class="line"><span class="stringliteral">                    if( UNIVERSAL::isa($target_object, &#39;</span><a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1NakedTable.html">Bio::EnsEMBL::Hive::NakedTable</a><span class="stringliteral">&#39;) ) {        # put the table into the same &quot;box&quot; as the dataflow source:</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">                        push @{$cluster_2_nodes{ _cluster_name( $target_object-&gt;{&#39;</span>_funnel_dfr<span class="stringliteral">&#39;} ) } }, $self-&gt;_table_node_name( $target_object );</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">                    } elsif( UNIVERSAL::isa($target_object, &#39;</span><a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Accumulator.html">Bio::EnsEMBL::Hive::Accumulator</a><span class="stringliteral">&#39;) ) {  # put the accu sink into the same &quot;box&quot; as the dataflow source:</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">                        push @{$cluster_2_nodes{ _cluster_name( $analysis-&gt;{&#39;</span>_funnel_dfr<span class="stringliteral">&#39;} ) } }, _accu_sink_node_name( $analysis-&gt;{&#39;</span>_funnel_dfr<span class="stringliteral">&#39;} );</span></div><div class="line"><span class="stringliteral">                    }</span></div><div class="line"><span class="stringliteral">                }</span></div><div class="line"><span class="stringliteral">            } # /foreach group</span></div><div class="line"><span class="stringliteral">        }</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">        $self-&gt;graph-&gt;cluster_2_nodes( \%cluster_2_nodes );</span></div><div class="line"><span class="stringliteral">        $self-&gt;graph-&gt;main_pipeline_name( $main_pipeline-&gt;hive_pipeline_name );</span></div><div class="line"><span class="stringliteral">        $self-&gt;graph-&gt;semaphore_bgcolour(       [$self-&gt;config_get(&#39;</span>Box<span class="stringliteral">&#39;, &#39;</span>Semaphore<span class="stringliteral">&#39;, &#39;</span>ColourScheme<span class="stringliteral">&#39;),     $self-&gt;config_get(&#39;</span>Box<span class="stringliteral">&#39;, &#39;</span>Semaphore<span class="stringliteral">&#39;, &#39;</span>ColourOffset<span class="stringliteral">&#39;)] );</span></div><div class="line"><span class="stringliteral">        $self-&gt;graph-&gt;main_pipeline_bgcolour(   [$self-&gt;config_get(&#39;</span>Box<span class="stringliteral">&#39;, &#39;</span>MainPipeline<span class="stringliteral">&#39;, &#39;</span>ColourScheme<span class="stringliteral">&#39;),  $self-&gt;config_get(&#39;</span>Box<span class="stringliteral">&#39;, &#39;</span>MainPipeline<span class="stringliteral">&#39;, &#39;</span>ColourOffset<span class="stringliteral">&#39;)] );</span></div><div class="line"><span class="stringliteral">        $self-&gt;graph-&gt;other_pipeline_bgcolour(  [$self-&gt;config_get(&#39;</span>Box<span class="stringliteral">&#39;, &#39;</span>OtherPipeline<span class="stringliteral">&#39;, &#39;</span>ColourScheme<span class="stringliteral">&#39;), $self-&gt;config_get(&#39;</span>Box<span class="stringliteral">&#39;, &#39;</span>OtherPipeline<span class="stringliteral">&#39;, &#39;</span>ColourOffset<span class="stringliteral">&#39;)] );</span></div><div class="line"><span class="stringliteral">    }</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">    return $self-&gt;graph();</span></div><div class="line"><span class="stringliteral">}</span></div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a5f9efde876681aea12fc343faae97dab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f9efde876681aea12fc343faae97dab">&#9670;&nbsp;</a></span>graph()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1GraphViz.html">GraphViz</a> Bio::EnsEMBL::Hive::Utils::Graph::graph </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Arg [1] : The <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1GraphViz.html">GraphViz</a> instance created by this module
  Returntype : <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1GraphViz.html">GraphViz</a>
  Exceptions : None
  Status     : Beta</pre><pre> </pre><div id="codesection-graph" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-graph-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-graph-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-graph-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a5f9efde876681aea12fc343faae97dab">graph</a> {</div><div class="line">    my ($self) = @_;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(! exists $self-&gt;{<span class="stringliteral">&#39;_graph&#39;</span>}) {</div><div class="line"></div><div class="line">        $self-&gt;{<span class="stringliteral">&#39;_graph&#39;</span>} = <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1GraphViz.html">Bio::EnsEMBL::Hive::Utils::GraphViz</a>-&gt;<a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1GraphViz.html#a54401c49af493e11f5898b81d048c076">new</a>(</div><div class="line">            <span class="stringliteral">&#39;name&#39;</span>          =&gt; <span class="stringliteral">&#39;AnalysisWorkflow&#39;</span>,</div><div class="line">            <span class="stringliteral">&#39;concentrate&#39;</span>   =&gt; <span class="stringliteral">&#39;true&#39;</span>,</div><div class="line">            <span class="stringliteral">&#39;pad&#39;</span>           =&gt; $self-&gt;config_get(<span class="stringliteral">&#39;Pad&#39;</span>) || 0,</div><div class="line">        );</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> $self-&gt;{<span class="stringliteral">&#39;_graph&#39;</span>};</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a0452e8098246f27173059b14600f190c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0452e8098246f27173059b14600f190c">&#9670;&nbsp;</a></span>new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html">Graph</a> Bio::EnsEMBL::Hive::Utils::Graph::new </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Arg [1] : <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1HivePipeline.html">Bio::EnsEMBL::Hive::HivePipeline</a> $pipeline;
              The adaptor to get information from
  Arg [2] : (optional) string $config_file_name;
                  A JSON file name to initialize the <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Config.html">Config</a> object with.
                  If one is not given then we don't pass anything into <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Config.html">Config</a>'s constructor,
                  which results in loading configuration from <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Config.html">Config</a>'s standard locations.
  Returntype : <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html">Graph</a> object
  Exceptions : If the parameters are not as required
  Status     : Beta</pre><pre> </pre><div id="codesection-new" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <span class="keyword">new</span> {</div><div class="line">    my $class       = shift @_;</div><div class="line">    my $pipeline    = shift @_;</div><div class="line"></div><div class="line">    my $self = bless({}, ref($class) || $class);</div><div class="line"></div><div class="line">    $self-&gt;pipeline( $pipeline );</div><div class="line"></div><div class="line">    my $config = <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Config.html">Bio::EnsEMBL::Hive::Utils::Config</a>-&gt;<a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Config.html#ae74fdb113363f2f412a30ce66d1651e3">new</a>( @_ );</div><div class="line">    $self-&gt;config($config);</div><div class="line">    $self-&gt;context( [ <span class="stringliteral">&#39;Graph&#39;</span> ] );</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> $self;</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a0bb1d3cb61932806ea8c430d96589825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bb1d3cb61932806ea8c430d96589825">&#9670;&nbsp;</a></span>pipeline()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1HivePipeline.html">HivePipeline</a> Bio::EnsEMBL::Hive::Utils::Graph::pipeline </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Arg [1] : The <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1HivePipeline.html">HivePipeline</a> instance
  Returntype : <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1HivePipeline.html">HivePipeline</a></pre><pre> </pre><div id="codesection-pipeline" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-pipeline-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-pipeline-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-pipeline-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html#a0bb1d3cb61932806ea8c430d96589825">pipeline</a> {</div><div class="line">    my $self = shift @_;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(@_) {</div><div class="line">        $self-&gt;{<span class="stringliteral">&#39;_pipeline&#39;</span>} = shift @_;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> $self-&gt;{<span class="stringliteral">&#39;_pipeline&#39;</span>};</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>modules/Bio/EnsEMBL/Hive/Utils/<a class="el" href="Graph_8pm.html">Graph.pm</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceBio.html">Bio</a></li><li class="navelem"><a class="el" href="namespaceBio_1_1EnsEMBL.html">EnsEMBL</a></li><li class="navelem"><a class="el" href="namespaceBio_1_1EnsEMBL_1_1Hive.html">Hive</a></li><li class="navelem"><a class="el" href="namespaceBio_1_1EnsEMBL_1_1Hive_1_1Utils.html">Utils</a></li><li class="navelem"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Utils_1_1Graph.html">Graph</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>

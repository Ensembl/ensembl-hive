<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ensembl-hive: Bio::EnsEMBL::Hive::RunnableDB::JobFactory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ensembl-hive
   &#160;<span id="projectnumber">2.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Bio::EnsEMBL::Hive::RunnableDB::JobFactory Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for Bio::EnsEMBL::Hive::RunnableDB::JobFactory:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory__inherit__graph.png" border="0" usemap="#Bio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory_inherit__map" alt="Inheritance graph"/></div>
<map name="Bio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory_inherit__map" id="Bio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory_inherit__map">
<area shape="rect" id="node2" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html" title="Bio::EnsEMBL::Hive\l::Process" alt="" coords="23,5,165,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for Bio::EnsEMBL::Hive::RunnableDB::JobFactory:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory__coll__graph.png" border="0" usemap="#Bio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory_coll__map" alt="Collaboration graph"/></div>
<map name="Bio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory_coll__map" id="Bio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory_coll__map">
<area shape="rect" id="node2" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html" title="Bio::EnsEMBL::Hive\l::Process" alt="" coords="23,5,165,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a80bb69bad70a8a048e373c72621bd7f9"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a80bb69bad70a8a048e373c72621bd7f9">param_defaults</a> ()</td></tr>
<tr class="separator:a80bb69bad70a8a048e373c72621bd7f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f3a3f15b7d15493a3e0522a27a2edf5"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a8f3a3f15b7d15493a3e0522a27a2edf5">run</a> ()</td></tr>
<tr class="separator:a8f3a3f15b7d15493a3e0522a27a2edf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcb45127a2af2a4015d59e590e1eb061"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#adcb45127a2af2a4015d59e590e1eb061">write_output</a> ()</td></tr>
<tr class="separator:adcb45127a2af2a4015d59e590e1eb061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a046e795740452e442df65849921da767"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a046e795740452e442df65849921da767">_get_rows_from_list</a> ()</td></tr>
<tr class="separator:a046e795740452e442df65849921da767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66dd4176925958a32b1e09ec6b381f6e"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a66dd4176925958a32b1e09ec6b381f6e">_get_rows_from_query</a> ()</td></tr>
<tr class="separator:a66dd4176925958a32b1e09ec6b381f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c6183dcd03bbfdb054253cbd4b7405"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#ac5c6183dcd03bbfdb054253cbd4b7405">_get_rows_from_open</a> ()</td></tr>
<tr class="separator:ac5c6183dcd03bbfdb054253cbd4b7405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b9467b5a794591dd41d0c471c1dab6"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a32b9467b5a794591dd41d0c471c1dab6">_substitute_rows</a> ()</td></tr>
<tr class="separator:a32b9467b5a794591dd41d0c471c1dab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d866fc6d59bb185b2a7630583b6a93a"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a1d866fc6d59bb185b2a7630583b6a93a">_substitute_minibatched_rows</a> ()</td></tr>
<tr class="separator:a1d866fc6d59bb185b2a7630583b6a93a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a051cdcc9af5a857e02f899adf0736c46"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a051cdcc9af5a857e02f899adf0736c46">_fisher_yates_shuffle_in_place</a> ()</td></tr>
<tr class="separator:a051cdcc9af5a857e02f899adf0736c46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html">Bio::EnsEMBL::Hive::Process</a></td></tr>
<tr class="memitem:ae2f3da1c5a538fc990739595101bbfc5 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#ae2f3da1c5a538fc990739595101bbfc5">new</a> ()</td></tr>
<tr class="separator:ae2f3da1c5a538fc990739595101bbfc5 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6fcf03a764b66577f4e33477525401 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a1c6fcf03a764b66577f4e33477525401">life_cycle</a> ()</td></tr>
<tr class="separator:a1c6fcf03a764b66577f4e33477525401 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a229788fa442d0070fdd3753b835f0e82 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a229788fa442d0070fdd3753b835f0e82">say_with_header</a> ()</td></tr>
<tr class="separator:a229788fa442d0070fdd3753b835f0e82 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2344d158b5ca1a21fa9975fd424a3e6b inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a2344d158b5ca1a21fa9975fd424a3e6b">enter_status</a> ()</td></tr>
<tr class="separator:a2344d158b5ca1a21fa9975fd424a3e6b inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fef0ffecdd8b254a622f83baa8e03e3 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a5fef0ffecdd8b254a622f83baa8e03e3">warning</a> ()</td></tr>
<tr class="separator:a5fef0ffecdd8b254a622f83baa8e03e3 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab30a44eca469388da3db6df134ea1559 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#ab30a44eca469388da3db6df134ea1559">param_defaults</a> ()</td></tr>
<tr class="separator:ab30a44eca469388da3db6df134ea1559 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdd4d38526457335f615330593ab9329 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#acdd4d38526457335f615330593ab9329">fetch_input</a> ()</td></tr>
<tr class="separator:acdd4d38526457335f615330593ab9329 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a346410a6c7d0e5f2541bc304048efdb9 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a346410a6c7d0e5f2541bc304048efdb9">run</a> ()</td></tr>
<tr class="separator:a346410a6c7d0e5f2541bc304048efdb9 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c9525d489a6ef446c834ef3c08927a3 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a1c9525d489a6ef446c834ef3c08927a3">write_output</a> ()</td></tr>
<tr class="separator:a1c9525d489a6ef446c834ef3c08927a3 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d01ac47d41d31f30aca69b0220e0d9d inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Worker.html">Bio::EnsEMBL::Hive::Worker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a9d01ac47d41d31f30aca69b0220e0d9d">worker</a> ()</td></tr>
<tr class="separator:a9d01ac47d41d31f30aca69b0220e0d9d inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2172d0e9d3014f2ef8f117176904fde3 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public Boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a2172d0e9d3014f2ef8f117176904fde3">execute_writes</a> ()</td></tr>
<tr class="separator:a2172d0e9d3014f2ef8f117176904fde3 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ca200c10405c13d535353f2646b49a1 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1DBSQL_1_1DBAdaptor.html">Bio::EnsEMBL::Hive::DBSQL::DBAdaptor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a8ca200c10405c13d535353f2646b49a1">db</a> ()</td></tr>
<tr class="separator:a8ca200c10405c13d535353f2646b49a1 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb5ddec979f7e2ed1f2dc375e26c4456 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1DBSQL_1_1DBConnection.html">Bio::EnsEMBL::Hive::DBSQL::DBConnection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#afb5ddec979f7e2ed1f2dc375e26c4456">dbc</a> ()</td></tr>
<tr class="separator:afb5ddec979f7e2ed1f2dc375e26c4456 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d0ad25d584c63aee8a7b45d30afb0e6 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1DBSQL_1_1DBConnection.html">Bio::EnsEMBL::Hive::DBSQL::DBConnection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a2d0ad25d584c63aee8a7b45d30afb0e6">data_dbc</a> ()</td></tr>
<tr class="separator:a2d0ad25d584c63aee8a7b45d30afb0e6 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a23f9308eb85ce1afcbbcad687aeb1 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public Returns&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a98a23f9308eb85ce1afcbbcad687aeb1">run_system_command</a> ()</td></tr>
<tr class="separator:a98a23f9308eb85ce1afcbbcad687aeb1 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf96e66f6740ec51a294e4164363166 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1AnalysisJob.html">Bio::EnsEMBL::Hive::AnalysisJob</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#abaf96e66f6740ec51a294e4164363166">input_job</a> ()</td></tr>
<tr class="separator:abaf96e66f6740ec51a294e4164363166 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa5d456135299916bbb43f4c8300a404 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#aaa5d456135299916bbb43f4c8300a404">input_id</a> ()</td></tr>
<tr class="separator:aaa5d456135299916bbb43f4c8300a404 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6217efee02c3fc309ae8705356e5d8dd inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a6217efee02c3fc309ae8705356e5d8dd">param</a> ()</td></tr>
<tr class="separator:a6217efee02c3fc309ae8705356e5d8dd inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4d8269232076e9956fbf09e32680c48 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#ac4d8269232076e9956fbf09e32680c48">param_required</a> ()</td></tr>
<tr class="separator:ac4d8269232076e9956fbf09e32680c48 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f4cd33db38cc20e5ae404a0d152edac inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a4f4cd33db38cc20e5ae404a0d152edac">param_exists</a> ()</td></tr>
<tr class="separator:a4f4cd33db38cc20e5ae404a0d152edac inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a472fd524e446e292b836f7f73af250e9 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a472fd524e446e292b836f7f73af250e9">param_is_defined</a> ()</td></tr>
<tr class="separator:a472fd524e446e292b836f7f73af250e9 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43ada6306f2f629c9d727ea5a0146f89 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a43ada6306f2f629c9d727ea5a0146f89">param_substitute</a> ()</td></tr>
<tr class="separator:a43ada6306f2f629c9d727ea5a0146f89 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd5b992716a3aa9a5810da1f007aa5b inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a3fd5b992716a3aa9a5810da1f007aa5b">dataflow_output_id</a> ()</td></tr>
<tr class="separator:a3fd5b992716a3aa9a5810da1f007aa5b inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfc1461a9ef5da83597f054172e10c42 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#adfc1461a9ef5da83597f054172e10c42">throw</a> ()</td></tr>
<tr class="separator:adfc1461a9ef5da83597f054172e10c42 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7881aef494525ad0dc6bf58ac2fad278 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a7881aef494525ad0dc6bf58ac2fad278">complete_early</a> ()</td></tr>
<tr class="separator:a7881aef494525ad0dc6bf58ac2fad278 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c9739f352e4eea538b17bb88de70285 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public Int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a4c9739f352e4eea538b17bb88de70285">debug</a> ()</td></tr>
<tr class="separator:a4c9739f352e4eea538b17bb88de70285 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ee5bd7ae4938b858a48b3812814a0a1 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a3ee5bd7ae4938b858a48b3812814a0a1">worker_temp_directory</a> ()</td></tr>
<tr class="separator:a3ee5bd7ae4938b858a48b3812814a0a1 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab007327305a8dc5294ff757cb3d50559 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#ab007327305a8dc5294ff757cb3d50559">worker_temp_directory_name</a> ()</td></tr>
<tr class="separator:ab007327305a8dc5294ff757cb3d50559 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35dbbcb04656e835a31cbc927b2c8584 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html#a35dbbcb04656e835a31cbc927b2c8584">cleanup_worker_temp_directory</a> ()</td></tr>
<tr class="separator:a35dbbcb04656e835a31cbc927b2c8584 inherit pub_methods_classBio_1_1EnsEMBL_1_1Hive_1_1Process"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="anchor" id="Synopsis"></a>
Synopsis</h1>
<div class="fragment"><div class="line">standaloneJob.pl <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html">Bio::EnsEMBL::Hive::RunnableDB::JobFactory</a> \</div><div class="line">                --inputcmd <span class="stringliteral">&#39;cd ${ENSEMBL_CVS_ROOT_DIR}/ensembl-hive/modules/Bio/EnsEMBL/Hive/RunnableDB; ls -1 *.pm&#39;</span> \</div><div class="line">                --flow_into <span class="stringliteral">&quot;{ 2 =&gt; { &#39;mysql://ensadmin:${ENSADMIN_PSW}@127.0.0.1:2914/lg4_compara_families_70/meta&#39; =&gt; {&#39;meta_key&#39;=&gt;&#39;module_name&#39;,&#39;meta_value&#39;=&gt;&#39;#_0#&#39;} } }&quot;</span><span class="stringliteral">&quot;</span></div></div><!-- fragment --> <h1><a class="anchor" id="Description"></a>
Description</h1>
<p> <pre>
    This is a generic RunnableDB module for creating batches of similar jobs using dataflow mechanism
    (a fan of jobs is created in one branch and the funnel in another).
    Make sure you wire this buliding block properly from outside.

    You can supply as parameter one of 4 sources of ids from which the batches will be generated:

        param('inputlist');  The list is explicitly given in the parameters, can be abbreviated: 'inputlist' => ['a'..'z']

        param('inputfile');  The list is contained in a file whose name is supplied as parameter: 'inputfile' => 'myfile.txt'

        param('inputquery'); The list is generated by an SQL query (against the production database by default) : 'inputquery' => 'SELECT object_id FROM object WHERE x=y'

        param('inputcmd');   The list is generated by running a system command: 'inputcmd' => 'find /tmp/big_directory -type f'

    NB for developpers: fetch_input() method is intentionally missing from JobFactory.pm .
    If JobFactory is subclassed (say, by a Compara RunnableDB) the child class's should use fetch_input()
    to set $self->param('inputlist') to whatever list of ids specific to that particular type of data (slices, members, etc).
    The rest functionality will be taken care for by the parent class code.

</pre> </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a051cdcc9af5a857e02f899adf0736c46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a051cdcc9af5a857e02f899adf0736c46">&#9670;&nbsp;</a></span>_fisher_yates_shuffle_in_place()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::RunnableDB::JobFactory::_fisher_yates_shuffle_in_place </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>    
    Description: a private function (not a method) that shuffles a list of ids</pre><pre> </pre><div id="codesection-_fisher_yates_shuffle_in_place" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_fisher_yates_shuffle_in_place-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_fisher_yates_shuffle_in_place-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_fisher_yates_shuffle_in_place-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a051cdcc9af5a857e02f899adf0736c46">_fisher_yates_shuffle_in_place</a> {</div><div class="line">    my $array = shift @_;</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span>(my $upper=scalar(@$array);--$upper;) {</div><div class="line">        my $lower=int(rand($upper+1));</div><div class="line">        next <span class="keywordflow">if</span> $lower == $upper;</div><div class="line">        @$array[$lower,$upper] = @$array[$upper,$lower];</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a046e795740452e442df65849921da767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a046e795740452e442df65849921da767">&#9670;&nbsp;</a></span>_get_rows_from_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::RunnableDB::JobFactory::_get_rows_from_list </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>    
    Description: a private method that ensures the list is 2D</pre><pre> </pre><div id="codesection-_get_rows_from_list" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_get_rows_from_list-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_get_rows_from_list-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_get_rows_from_list-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a046e795740452e442df65849921da767">_get_rows_from_list</a> {</div><div class="line">    my ($self, $inputlist) = @_;</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> ref($inputlist-&gt;[0])</div><div class="line">        ? $inputlist</div><div class="line">        : [ map { [ $_ ] } @$inputlist ];</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="ac5c6183dcd03bbfdb054253cbd4b7405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5c6183dcd03bbfdb054253cbd4b7405">&#9670;&nbsp;</a></span>_get_rows_from_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::RunnableDB::JobFactory::_get_rows_from_open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>    
    Description: a private method that loads ids from a given file or command pipe</pre><pre> </pre><div id="codesection-_get_rows_from_open" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_get_rows_from_open-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_get_rows_from_open-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_get_rows_from_open-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#ac5c6183dcd03bbfdb054253cbd4b7405">_get_rows_from_open</a> {</div><div class="line">    my ($self, $input_file_or_pipe, $delimiter, $parse_header) = @_;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>($self-&gt;debug()) {</div><div class="line">        warn qq{input_file_or_pipe = <span class="stringliteral">&quot;$input_file_or_pipe&quot;</span>\n};</div><div class="line">    }</div><div class="line">    my @rows = ();</div><div class="line">    open(FILE, $input_file_or_pipe) or die <span class="stringliteral">&quot;Could not open &#39;$input_file_or_pipe&#39; because: $!&quot;</span>;</div><div class="line">    <span class="keywordflow">while</span>(my $line = &lt;FILE&gt;) {</div><div class="line">        chomp $line;</div><div class="line"></div><div class="line">        push @rows, [ defined($delimiter) ? split(/$delimiter/, $line) : $line ];</div><div class="line">    }</div><div class="line">    close FILE</div><div class="line">        or die <span class="stringliteral">&quot;Could not read from &#39;$input_file_or_pipe&#39;. Received the error &quot;</span>.($! || $?);</div><div class="line"></div><div class="line">    my $column_names_from_data = $parse_header ? shift @rows : 0;</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> (\@rows, $column_names_from_data);</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a66dd4176925958a32b1e09ec6b381f6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66dd4176925958a32b1e09ec6b381f6e">&#9670;&nbsp;</a></span>_get_rows_from_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::RunnableDB::JobFactory::_get_rows_from_query </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>    
    Description: a private method that loads ids from a given sql query</pre><pre>    param('db_conn'): An optional hash to pass in connection parameters to the database upon which the query will have to be run.</pre><pre> </pre><div id="codesection-_get_rows_from_query" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_get_rows_from_query-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_get_rows_from_query-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_get_rows_from_query-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a66dd4176925958a32b1e09ec6b381f6e">_get_rows_from_query</a> {</div><div class="line">    my ($self, $inputquery) = @_;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>($self-&gt;debug()) {</div><div class="line">        warn qq{inputquery = <span class="stringliteral">&quot;$inputquery&quot;</span>\n};</div><div class="line">    }</div><div class="line">    my @rows = ();</div><div class="line">    my $sth = $self-&gt;data_dbc()-&gt;prepare($inputquery);</div><div class="line">    $sth-&gt;execute();</div><div class="line">    my @column_names_from_data = @{$sth-&gt;{NAME}};   # tear it off the original reference to gain some freedom</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (my @cols = $sth-&gt;fetchrow_array()) {</div><div class="line">        push @rows, \@cols;</div><div class="line">    }</div><div class="line">    $sth-&gt;finish();</div><div class="line"></div><div class="line">    $self-&gt;data_dbc()-&gt;disconnect_if_idle();</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> (\@rows, \@column_names_from_data);</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a1d866fc6d59bb185b2a7630583b6a93a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d866fc6d59bb185b2a7630583b6a93a">&#9670;&nbsp;</a></span>_substitute_minibatched_rows()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::RunnableDB::JobFactory::_substitute_minibatched_rows </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>    
    Description: a private method that minibatches a list and transforms every minibatch using param-substitution</pre><pre> </pre><div id="codesection-_substitute_minibatched_rows" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_substitute_minibatched_rows-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_substitute_minibatched_rows-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_substitute_minibatched_rows-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a1d866fc6d59bb185b2a7630583b6a93a">_substitute_minibatched_rows</a> {</div><div class="line">    my ($self, $rows, $column_names, $step, $contiguous, $key_column) = @_;</div><div class="line"></div><div class="line">    my @ranges = ();</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span>(@$rows) {</div><div class="line">        my $start_row  = shift @$rows;</div><div class="line">        my $range_start = $start_row-&gt;[$key_column];</div><div class="line">        my @range_list  = ( $range_start );</div><div class="line"></div><div class="line">        my $range_end   = $range_start;</div><div class="line">        my $range_count = 1;</div><div class="line">        my $next_row    = $start_row;   # safety, in <span class="keywordflow">case</span> the <span class="keyword">internal</span> <span class="keywordflow">while</span> doesn<span class="stringliteral">&#39;t execute even once</span></div><div class="line"><span class="stringliteral">        my $last_row    = $next_row;    # last row in the current minibatch</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">        while($range_count&lt;$step &amp;&amp; @$rows) {</span></div><div class="line"><span class="stringliteral">               $next_row    = shift @$rows;</span></div><div class="line"><span class="stringliteral">            my $next_value  = $next_row-&gt;[$key_column];</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">            my $predicted_next = $range_end;        # ++$predicted_next is used instead of ($range_end+1) as &quot;string increment&quot; to turn &#39;</span>aa<span class="stringliteral">&#39; into &#39;</span>ab<span class="stringliteral">&#39; into &#39;</span>ac<span class="stringliteral">&#39;, etc.</span></div><div class="line"><span class="stringliteral">            if(!$contiguous or (++$predicted_next eq $next_value)) {</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">                push @range_list, $next_value;</span></div><div class="line"><span class="stringliteral">                $range_end      = $next_value;</span></div><div class="line"><span class="stringliteral">                $last_row       = $next_row;</span></div><div class="line"><span class="stringliteral">                $range_count++;</span></div><div class="line"><span class="stringliteral">            } else {</span></div><div class="line"><span class="stringliteral">                unshift @$rows, $next_row;</span></div><div class="line"><span class="stringliteral">                last;</span></div><div class="line"><span class="stringliteral">            }</span></div><div class="line"><span class="stringliteral">        }</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">        my $job_range = {</span></div><div class="line"><span class="stringliteral">            &#39;</span>_range_start<span class="stringliteral">&#39;  =&gt; $range_start,</span></div><div class="line"><span class="stringliteral">            &#39;</span>_range_end<span class="stringliteral">&#39;    =&gt; $range_end,</span></div><div class="line"><span class="stringliteral">            &#39;</span>_range_count<span class="stringliteral">&#39;  =&gt; $range_count,</span></div><div class="line"><span class="stringliteral">            &#39;</span>_range_list<span class="stringliteral">&#39;   =&gt; \@range_list,</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">            $column_names</span></div><div class="line"><span class="stringliteral">                ?  map { (&#39;</span>_start_<span class="stringliteral">&#39;.$column_names-&gt;[$_] =&gt; $start_row-&gt;[$_], &#39;</span>_end_<span class="stringliteral">&#39;.$column_names-&gt;[$_] =&gt; $last_row-&gt;[$_]) } (0..scalar(@$start_row)-1)</span></div><div class="line"><span class="stringliteral">                :  map { (&quot;_start_$_&quot;                   =&gt; $start_row-&gt;[$_], &quot;_end_$_&quot;                   =&gt; $last_row-&gt;[$_]) } (0..scalar(@$start_row)-1)</span></div><div class="line"><span class="stringliteral">        };</span></div><div class="line"><span class="stringliteral">        push @ranges, $job_range;</span></div><div class="line"><span class="stringliteral">    }</span></div><div class="line"><span class="stringliteral">    return \@ranges;</span></div><div class="line"><span class="stringliteral">}</span></div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a32b9467b5a794591dd41d0c471c1dab6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32b9467b5a794591dd41d0c471c1dab6">&#9670;&nbsp;</a></span>_substitute_rows()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::Hive::RunnableDB::JobFactory::_substitute_rows </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
    Description: a private method that goes through a list and transforms every row into a hash</pre><pre> </pre><div id="codesection-_substitute_rows" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_substitute_rows-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_substitute_rows-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_substitute_rows-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a32b9467b5a794591dd41d0c471c1dab6">_substitute_rows</a> {</div><div class="line">    my ($self, $rows, $column_names) = @_;</div><div class="line"></div><div class="line">    my @hashes = ();</div><div class="line"></div><div class="line">    <span class="keywordflow">foreach</span> my $row (@$rows) {</div><div class="line">        my $job_param_hash =  $column_names</div><div class="line">            ?  {              map { ($column_names-&gt;[$_] =&gt; $row-&gt;[$_]) } (0..scalar(@$row)-1) }</div><div class="line">            :  { <span class="charliteral">&#39;_&#39;</span> =&gt; $row, map { (<span class="stringliteral">&quot;_$_&quot;</span>               =&gt; $row-&gt;[$_]) } (0..scalar(@$row)-1) };</div><div class="line"></div><div class="line">        push @hashes, $job_param_hash;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> \@hashes;</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a80bb69bad70a8a048e373c72621bd7f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80bb69bad70a8a048e373c72621bd7f9">&#9670;&nbsp;</a></span>param_defaults()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Bio::EnsEMBL::Hive::RunnableDB::JobFactory::param_defaults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-param_defaults" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-param_defaults-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-param_defaults-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-param_defaults-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a80bb69bad70a8a048e373c72621bd7f9">param_defaults</a> {</div><div class="line">    <span class="keywordflow">return</span> {</div><div class="line">        <span class="stringliteral">&#39;column_names&#39;</span>      =&gt; 0,</div><div class="line">        <span class="stringliteral">&#39;delimiter&#39;</span>         =&gt; undef,</div><div class="line">        <span class="stringliteral">&#39;randomize&#39;</span>         =&gt; 0,</div><div class="line">        <span class="stringliteral">&#39;step&#39;</span>              =&gt; 0,</div><div class="line">        <span class="stringliteral">&#39;contiguous&#39;</span>        =&gt; 0,</div><div class="line">        <span class="stringliteral">&#39;key_column&#39;</span>        =&gt; 0,</div><div class="line">        <span class="stringliteral">&#39;input_id&#39;</span>          =&gt; 0,   # <span class="keyword">this</span> parameter is no longer supported and should stay at 0</div><div class="line"></div><div class="line">        <span class="stringliteral">&#39;inputlist&#39;</span>         =&gt; undef,</div><div class="line">        <span class="stringliteral">&#39;inputfile&#39;</span>         =&gt; undef,</div><div class="line">        <span class="stringliteral">&#39;inputquery&#39;</span>        =&gt; undef,</div><div class="line">        <span class="stringliteral">&#39;inputcmd&#39;</span>          =&gt; undef,</div><div class="line"></div><div class="line">        <span class="stringliteral">&#39;fan_branch_code&#39;</span>   =&gt; 2,</div><div class="line"></div><div class="line">        <span class="stringliteral">&#39;use_bash_pipefail&#39;</span> =&gt; 0,           # Boolean. When <span class="keyword">true</span>, the command will be <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a8f3a3f15b7d15493a3e0522a27a2edf5">run</a> with <span class="stringliteral">&quot;bash -o pipefail -c $cmd&quot;</span>. Useful to capture errors in a command that contains pipes</div><div class="line">    };</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="a8f3a3f15b7d15493a3e0522a27a2edf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f3a3f15b7d15493a3e0522a27a2edf5">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Bio::EnsEMBL::Hive::RunnableDB::JobFactory::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
    Description : Implements <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a8f3a3f15b7d15493a3e0522a27a2edf5">run()</a> interface method of <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html">Bio::EnsEMBL::Hive::Process</a> that is used to perform the main bulk of the job (minus input and output).</pre><pre>    param('column_names'):  Controls the column names that come out of the parser: 0 = "no names", 1 = "parse names from data", arrayref = "take names from this array"</pre><pre>    param('delimiter'): If you set it your lines in file/cmd mode will be split into columns that you can use individually when constructing the input_id_template hash.</pre><pre>    param('randomize'): Shuffles the rows before creating jobs - can sometimes lead to better overall performance of the pipeline. Doesn't make any sence for minibatches (step&gt;1).</pre><pre>    param('step'):      The requested size of the minibatch (1 by default). The real size of a range may be smaller than the requested size.</pre><pre>    param('contiguous'): Whether the key_column range of each minibatch should be contiguous (0 by default).</pre><pre>    param('key_column'): If every line of your input is a list (it happens, for example, when your SQL returns multiple columns or you have set the 'delimiter' in file/cmd mode)
                         this is the way to say which column is undergoing 'ranging'</pre><pre>        # The following 4 parameters are mutually exclusive and define the source of ids for the jobs:</pre><pre>    param('inputlist');  The list is explicitly given in the parameters, can be abbreviated: 'inputlist' =&gt; ['a'..'z']</pre><pre>    param('inputfile');  The list is contained in a file whose name is supplied as parameter: 'inputfile' =&gt; 'myfile.txt'</pre><pre>    param('inputquery'); The list is generated by an SQL query (against the production database by default) : 'inputquery' =&gt; 'SELECT object_id FROM object WHERE x=y'</pre><pre>    param('inputcmd');   The list is generated by running a system command: 'inputcmd' =&gt; 'find /tmp/big_directory -type f'</pre><pre> </pre><div id="codesection-run" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-run-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-run-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-run-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a8f3a3f15b7d15493a3e0522a27a2edf5">run</a> {</div><div class="line">    my $self = shift @_;</div><div class="line"></div><div class="line">    my $column_names    = $self-&gt;param(<span class="stringliteral">&#39;column_names&#39;</span>);   # can be 0 (no names), 1 (names from data) or an arrayref (names from <span class="keyword">this</span> array)</div><div class="line">    my $delimiter       = $self-&gt;param(<span class="stringliteral">&#39;delimiter&#39;</span>);</div><div class="line"></div><div class="line">    my $randomize       = $self-&gt;param(<span class="stringliteral">&#39;randomize&#39;</span>);</div><div class="line"></div><div class="line"><span class="preprocessor">        # minibatching-related:</span></div><div class="line">    my $step            = $self-&gt;param(<span class="stringliteral">&#39;step&#39;</span>);</div><div class="line">    my $contiguous      = $self-&gt;param(<span class="stringliteral">&#39;contiguous&#39;</span>);</div><div class="line">    my $key_column      = $self-&gt;param(<span class="stringliteral">&#39;key_column&#39;</span>);</div><div class="line"></div><div class="line">    my $inputlist       = $self-&gt;param(<span class="stringliteral">&#39;inputlist&#39;</span>);</div><div class="line">    my $inputfile       = $self-&gt;param(<span class="stringliteral">&#39;inputfile&#39;</span>);</div><div class="line">    my $inputquery      = $self-&gt;param(<span class="stringliteral">&#39;inputquery&#39;</span>);</div><div class="line">    my $inputcmd        = $self-&gt;param(<span class="stringliteral">&#39;inputcmd&#39;</span>);</div><div class="line"></div><div class="line">    my $parse_column_names = $column_names &amp;&amp; (ref($column_names) ne <span class="stringliteral">&#39;ARRAY&#39;</span>);</div><div class="line"></div><div class="line">    my ($rows, $column_names_from_data) =</div><div class="line">              $inputlist    ? $self-&gt;_get_rows_from_list(  $inputlist  )</div><div class="line">            : $inputquery   ? $self-&gt;_get_rows_from_query( $inputquery )</div><div class="line">            : $inputfile    ? $self-&gt;_get_rows_from_open(  $inputfile  , $delimiter, $parse_column_names )</div><div class="line">            : $inputcmd     ? $self-&gt;_get_rows_from_open( ($self-&gt;param(<span class="stringliteral">&#39;use_bash_pipefail&#39;</span>) ? <span class="stringliteral">&#39;set -o pipefail; &#39;</span>: <span class="stringliteral">&#39;&#39;</span>).<span class="stringliteral">&quot;$inputcmd |&quot;</span>, $delimiter, $parse_column_names )</div><div class="line">            : die <span class="stringliteral">&quot;range of values should be defined by setting &#39;inputlist&#39;, &#39;inputquery&#39;, &#39;inputfile&#39; or &#39;inputcmd&#39;&quot;</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>( $column_names_from_data                                             # column data is available</div><div class="line">    and ( defined($column_names) ? (ref($column_names) ne <span class="stringliteral">&#39;ARRAY&#39;</span>) : 1 )    # and is badly needed</div><div class="line">    ) {</div><div class="line">        $column_names = $column_names_from_data;</div><div class="line">    }</div><div class="line"><span class="preprocessor">    # after this point $column_names should either contain a list or be false</span></div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>( $self-&gt;param(<span class="stringliteral">&#39;input_id&#39;</span>) ) {</div><div class="line">        die <span class="stringliteral">&quot;&#39;input_id&#39; is no longer supported, please reconfigure as the input_id_template of the dataflow_rule&quot;</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>($randomize) {</div><div class="line">        <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#a051cdcc9af5a857e02f899adf0736c46">_fisher_yates_shuffle_in_place</a>($rows);</div><div class="line">    }</div><div class="line"></div><div class="line">    my $output_ids = $step</div><div class="line">        ? $self-&gt;_substitute_minibatched_rows($rows, $column_names, $step, $contiguous, $key_column)</div><div class="line">        : $self-&gt;_substitute_rows($rows, $column_names);</div><div class="line"></div><div class="line">    $self-&gt;param(<span class="stringliteral">&#39;output_ids&#39;</span>, $output_ids);</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<a id="adcb45127a2af2a4015d59e590e1eb061"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcb45127a2af2a4015d59e590e1eb061">&#9670;&nbsp;</a></span>write_output()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Bio::EnsEMBL::Hive::RunnableDB::JobFactory::write_output </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
    Description : Implements <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#adcb45127a2af2a4015d59e590e1eb061">write_output()</a> interface method of <a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1Process.html">Bio::EnsEMBL::Hive::Process</a> that is used to deal with job's output after the execution.
                  Here we rely on the dataflow mechanism to create jobs.</pre><pre>    param('fan_branch_code'): defines the branch where the fan of jobs is created (2 by default).</pre><pre> </pre><div id="codesection-write_output" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-write_output-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-write_output-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-write_output-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html#adcb45127a2af2a4015d59e590e1eb061">write_output</a> {  # nothing to write out, but some dataflow to perform:</div><div class="line">    my $self = shift @_;</div><div class="line"></div><div class="line">    my $output_ids              = $self-&gt;param(<span class="stringliteral">&#39;output_ids&#39;</span>);</div><div class="line">    my $fan_branch_code         = $self-&gt;param(<span class="stringliteral">&#39;fan_branch_code&#39;</span>);</div><div class="line"></div><div class="line"><span class="preprocessor">        # &quot;fan out&quot; into fan_branch_code:</span></div><div class="line">    $self-&gt;dataflow_output_id($output_ids, $fan_branch_code);</div><div class="line">}</div></div><!-- fragment --> </div> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>modules/Bio/EnsEMBL/Hive/RunnableDB/<a class="el" href="JobFactory_8pm.html">JobFactory.pm</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceBio.html">Bio</a></li><li class="navelem"><a class="el" href="namespaceBio_1_1EnsEMBL.html">EnsEMBL</a></li><li class="navelem"><a class="el" href="namespaceBio_1_1EnsEMBL_1_1Hive.html">Hive</a></li><li class="navelem"><a class="el" href="namespaceBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB.html">RunnableDB</a></li><li class="navelem"><a class="el" href="classBio_1_1EnsEMBL_1_1Hive_1_1RunnableDB_1_1JobFactory.html">JobFactory</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>

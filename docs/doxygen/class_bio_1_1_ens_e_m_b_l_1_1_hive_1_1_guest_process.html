<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>ensembl-hive: Bio::EnsEMBL::Hive::GuestProcess Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ensembl-hive
   &#160;<span id="projectnumber">2.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Bio::EnsEMBL::Hive::GuestProcess Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for Bio::EnsEMBL::Hive::GuestProcess:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process__inherit__graph.png" border="0" usemap="#_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process_inherit__map" alt="Inheritance graph"/></div>
<map name="_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process_inherit__map" id="_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process_inherit__map">
<area shape="rect" id="node2" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html" title="Bio::EnsEMBL::Hive\l::Process" alt="" coords="5,6,147,47"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for Bio::EnsEMBL::Hive::GuestProcess:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process__coll__graph.png" border="0" usemap="#_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process_coll__map" alt="Collaboration graph"/></div>
<map name="_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process_coll__map" id="_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process_coll__map">
<area shape="rect" id="node2" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html" title="Bio::EnsEMBL::Hive\l::Process" alt="" coords="5,6,147,47"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a11a2ce81fc2f1dce24562d2f144e2bb4"><td class="memItemLeft" align="right" valign="top">public String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a11a2ce81fc2f1dce24562d2f144e2bb4">get_protocol_version</a> ()</td></tr>
<tr class="separator:a11a2ce81fc2f1dce24562d2f144e2bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1115aac81dcd40feb6404fcaf1a07225"><td class="memItemLeft" align="right" valign="top">public <br class="typebreak"/>
<a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html">Bio::EnsEMBL::Hive::GuestProcess</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a1115aac81dcd40feb6404fcaf1a07225">new</a> ()</td></tr>
<tr class="separator:a1115aac81dcd40feb6404fcaf1a07225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae70b8a7e04c6750af4de1931f0ac7f59"><td class="memItemLeft" align="right" valign="top">protected String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#ae70b8a7e04c6750af4de1931f0ac7f59">_get_wrapper_for_language</a> ()</td></tr>
<tr class="separator:ae70b8a7e04c6750af4de1931f0ac7f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7245010ec0ae0e22b3686aed880c88e"><td class="memItemLeft" align="right" valign="top">public void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#ac7245010ec0ae0e22b3686aed880c88e">DESTROY</a> ()</td></tr>
<tr class="separator:ac7245010ec0ae0e22b3686aed880c88e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf08fff9d3b43c9c47de35e0a18e443e"><td class="memItemLeft" align="right" valign="top">public void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#adf08fff9d3b43c9c47de35e0a18e443e">print_debug</a> ()</td></tr>
<tr class="separator:adf08fff9d3b43c9c47de35e0a18e443e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20cfaf47213662a2db9ded9334ac5a21"><td class="memItemLeft" align="right" valign="top">public IO::Handle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a20cfaf47213662a2db9ded9334ac5a21">child_in</a> ()</td></tr>
<tr class="separator:a20cfaf47213662a2db9ded9334ac5a21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66d580d89008f43d913f7d095e68fd4"><td class="memItemLeft" align="right" valign="top">public IO::Handle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#aa66d580d89008f43d913f7d095e68fd4">child_out</a> ()</td></tr>
<tr class="separator:aa66d580d89008f43d913f7d095e68fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae96aed59f5bd0b1bd7ebbf35c544ba0"><td class="memItemLeft" align="right" valign="top">public Int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#aae96aed59f5bd0b1bd7ebbf35c544ba0">child_pid</a> ()</td></tr>
<tr class="separator:aae96aed59f5bd0b1bd7ebbf35c544ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad87a904360cadf6ff23f07d76b5a85"><td class="memItemLeft" align="right" valign="top">public Instance&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a9ad87a904360cadf6ff23f07d76b5a85">json_formatter</a> ()</td></tr>
<tr class="separator:a9ad87a904360cadf6ff23f07d76b5a85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ffb71047c020f5063bd9fdb7d847538"><td class="memItemLeft" align="right" valign="top">public void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a1ffb71047c020f5063bd9fdb7d847538">send_message</a> ()</td></tr>
<tr class="separator:a1ffb71047c020f5063bd9fdb7d847538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa45945f5e47cf67b83e69788ce788c3f"><td class="memItemLeft" align="right" valign="top">public void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#aa45945f5e47cf67b83e69788ce788c3f">send_response</a> ()</td></tr>
<tr class="separator:aa45945f5e47cf67b83e69788ce788c3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d3e0fc87e4b639448e139d52dccbb7d"><td class="memItemLeft" align="right" valign="top">public Perl&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a1d3e0fc87e4b639448e139d52dccbb7d">read_message</a> ()</td></tr>
<tr class="separator:a1d3e0fc87e4b639448e139d52dccbb7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2670c432e284e78fa2be5a152a0b519"><td class="memItemLeft" align="right" valign="top">public void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#ae2670c432e284e78fa2be5a152a0b519">wait_for_OK</a> ()</td></tr>
<tr class="separator:ae2670c432e284e78fa2be5a152a0b519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c7a5b944e92b8ecf45d4d67067a4491"><td class="memItemLeft" align="right" valign="top">public Hashref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a3c7a5b944e92b8ecf45d4d67067a4491">param_defaults</a> ()</td></tr>
<tr class="separator:a3c7a5b944e92b8ecf45d4d67067a4491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa13db41cd8a1caf6726dc4d72455f1a3"><td class="memItemLeft" align="right" valign="top">public Hashref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#aa13db41cd8a1caf6726dc4d72455f1a3">life_cycle</a> ()</td></tr>
<tr class="separator:aa13db41cd8a1caf6726dc4d72455f1a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac18321c09e8d292cd07279c4f2906292"><td class="memItemLeft" align="right" valign="top">public String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#ac18321c09e8d292cd07279c4f2906292">worker_temp_directory_name</a> ()</td></tr>
<tr class="separator:ac18321c09e8d292cd07279c4f2906292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html">Bio::EnsEMBL::Hive::Process</a></td></tr>
<tr class="memitem:ae2f3da1c5a538fc990739595101bbfc5 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#ae2f3da1c5a538fc990739595101bbfc5">new</a> ()</td></tr>
<tr class="separator:ae2f3da1c5a538fc990739595101bbfc5 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6fcf03a764b66577f4e33477525401 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a1c6fcf03a764b66577f4e33477525401">life_cycle</a> ()</td></tr>
<tr class="separator:a1c6fcf03a764b66577f4e33477525401 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a229788fa442d0070fdd3753b835f0e82 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a229788fa442d0070fdd3753b835f0e82">say_with_header</a> ()</td></tr>
<tr class="separator:a229788fa442d0070fdd3753b835f0e82 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2344d158b5ca1a21fa9975fd424a3e6b inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a2344d158b5ca1a21fa9975fd424a3e6b">enter_status</a> ()</td></tr>
<tr class="separator:a2344d158b5ca1a21fa9975fd424a3e6b inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fef0ffecdd8b254a622f83baa8e03e3 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a5fef0ffecdd8b254a622f83baa8e03e3">warning</a> ()</td></tr>
<tr class="separator:a5fef0ffecdd8b254a622f83baa8e03e3 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab30a44eca469388da3db6df134ea1559 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#ab30a44eca469388da3db6df134ea1559">param_defaults</a> ()</td></tr>
<tr class="separator:ab30a44eca469388da3db6df134ea1559 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdd4d38526457335f615330593ab9329 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#acdd4d38526457335f615330593ab9329">fetch_input</a> ()</td></tr>
<tr class="separator:acdd4d38526457335f615330593ab9329 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a346410a6c7d0e5f2541bc304048efdb9 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a346410a6c7d0e5f2541bc304048efdb9">run</a> ()</td></tr>
<tr class="separator:a346410a6c7d0e5f2541bc304048efdb9 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c9525d489a6ef446c834ef3c08927a3 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a1c9525d489a6ef446c834ef3c08927a3">write_output</a> ()</td></tr>
<tr class="separator:a1c9525d489a6ef446c834ef3c08927a3 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d01ac47d41d31f30aca69b0220e0d9d inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public <a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_worker.html">Bio::EnsEMBL::Hive::Worker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a9d01ac47d41d31f30aca69b0220e0d9d">worker</a> ()</td></tr>
<tr class="separator:a9d01ac47d41d31f30aca69b0220e0d9d inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2172d0e9d3014f2ef8f117176904fde3 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public Boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a2172d0e9d3014f2ef8f117176904fde3">execute_writes</a> ()</td></tr>
<tr class="separator:a2172d0e9d3014f2ef8f117176904fde3 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ca200c10405c13d535353f2646b49a1 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public <br class="typebreak"/>
<a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_d_b_s_q_l_1_1_d_b_adaptor.html">Bio::EnsEMBL::Hive::DBSQL::DBAdaptor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a8ca200c10405c13d535353f2646b49a1">db</a> ()</td></tr>
<tr class="separator:a8ca200c10405c13d535353f2646b49a1 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb5ddec979f7e2ed1f2dc375e26c4456 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public <br class="typebreak"/>
<a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_d_b_s_q_l_1_1_d_b_connection.html">Bio::EnsEMBL::Hive::DBSQL::DBConnection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#afb5ddec979f7e2ed1f2dc375e26c4456">dbc</a> ()</td></tr>
<tr class="separator:afb5ddec979f7e2ed1f2dc375e26c4456 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d0ad25d584c63aee8a7b45d30afb0e6 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public <br class="typebreak"/>
<a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_d_b_s_q_l_1_1_d_b_connection.html">Bio::EnsEMBL::Hive::DBSQL::DBConnection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a2d0ad25d584c63aee8a7b45d30afb0e6">data_dbc</a> ()</td></tr>
<tr class="separator:a2d0ad25d584c63aee8a7b45d30afb0e6 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a23f9308eb85ce1afcbbcad687aeb1 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public Returns&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a98a23f9308eb85ce1afcbbcad687aeb1">run_system_command</a> ()</td></tr>
<tr class="separator:a98a23f9308eb85ce1afcbbcad687aeb1 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf96e66f6740ec51a294e4164363166 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public <br class="typebreak"/>
<a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_analysis_job.html">Bio::EnsEMBL::Hive::AnalysisJob</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#abaf96e66f6740ec51a294e4164363166">input_job</a> ()</td></tr>
<tr class="separator:abaf96e66f6740ec51a294e4164363166 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa5d456135299916bbb43f4c8300a404 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#aaa5d456135299916bbb43f4c8300a404">input_id</a> ()</td></tr>
<tr class="separator:aaa5d456135299916bbb43f4c8300a404 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6217efee02c3fc309ae8705356e5d8dd inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a6217efee02c3fc309ae8705356e5d8dd">param</a> ()</td></tr>
<tr class="separator:a6217efee02c3fc309ae8705356e5d8dd inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4d8269232076e9956fbf09e32680c48 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#ac4d8269232076e9956fbf09e32680c48">param_required</a> ()</td></tr>
<tr class="separator:ac4d8269232076e9956fbf09e32680c48 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a472fd524e446e292b836f7f73af250e9 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a472fd524e446e292b836f7f73af250e9">param_is_defined</a> ()</td></tr>
<tr class="separator:a472fd524e446e292b836f7f73af250e9 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43ada6306f2f629c9d727ea5a0146f89 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a43ada6306f2f629c9d727ea5a0146f89">param_substitute</a> ()</td></tr>
<tr class="separator:a43ada6306f2f629c9d727ea5a0146f89 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd5b992716a3aa9a5810da1f007aa5b inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a3fd5b992716a3aa9a5810da1f007aa5b">dataflow_output_id</a> ()</td></tr>
<tr class="separator:a3fd5b992716a3aa9a5810da1f007aa5b inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfc1461a9ef5da83597f054172e10c42 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#adfc1461a9ef5da83597f054172e10c42">throw</a> ()</td></tr>
<tr class="separator:adfc1461a9ef5da83597f054172e10c42 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7881aef494525ad0dc6bf58ac2fad278 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a7881aef494525ad0dc6bf58ac2fad278">complete_early</a> ()</td></tr>
<tr class="separator:a7881aef494525ad0dc6bf58ac2fad278 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c9739f352e4eea538b17bb88de70285 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public Int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a4c9739f352e4eea538b17bb88de70285">debug</a> ()</td></tr>
<tr class="separator:a4c9739f352e4eea538b17bb88de70285 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ee5bd7ae4938b858a48b3812814a0a1 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a3ee5bd7ae4938b858a48b3812814a0a1">worker_temp_directory</a> ()</td></tr>
<tr class="separator:a3ee5bd7ae4938b858a48b3812814a0a1 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab007327305a8dc5294ff757cb3d50559 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#ab007327305a8dc5294ff757cb3d50559">worker_temp_directory_name</a> ()</td></tr>
<tr class="separator:ab007327305a8dc5294ff757cb3d50559 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35dbbcb04656e835a31cbc927b2c8584 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a35dbbcb04656e835a31cbc927b2c8584">cleanup_worker_temp_directory</a> ()</td></tr>
<tr class="separator:a35dbbcb04656e835a31cbc927b2c8584 inherit pub_methods_class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="anchor" id="Synopsis"></a>
Synopsis</h1>
<div class="fragment"><div class="line">This is a variant of <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html">Bio::EnsEMBL::Hive::Process</a> that forks into a wrapper that can itself</div>
<div class="line"><a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a346410a6c7d0e5f2541bc304048efdb9">run</a> jobs (runnables) written in a different language</div>
</div><!-- fragment --> <h1><a class="anchor" id="Description"></a>
Description</h1>
 <pre>
Upon initialisation, GuestProcess forks, and the child process executes the wrapper that
will allow running Runnables of the other language. The communication is ensured by two
pipes and is schematically similar to running "| wrapper |", except that GuestProcess
uses non-standard file descriptors, thus allowing the Runnable to still use std{in,out,err}.

The wrapper receives the two file-numbers that it is meant to use (one for reading data
from GuestProcess, and one to send data to GuestProcess). All the messages are passed
around in single-line JSON structures. The protocol is described below using the convention:
    ---> represents a message sent to the child process,
    <--- represents a message sent by the child process

The initialisation (in the constructor) consists in checking that both sides spek the same
version of the protocol:
    <--- { "version": "XXX" }
    ---> "OK"
GuestProcess will bail out if the response is not "OK"

Then, the child process (i.e. the runnable) will send its default parameters to GuestProcess.
This fills the usual param_defaults() section of the Runnable:
    <--- { ... param_defaults ... }
    ---> "OK"

The child process then goes to sleep, waiting for jobs to be seeded. Meanwhile,
GuestProcess enters a number of life_cycle() executions (as triggered by Worker).
Each one first sends a JSON object to the child process to initialize the job parameters
    ---> {
           "input_job": {
             "parameters": { ... the unsubstituted job parameters as compiled by Worker ... },
             // followed by several attributes of the job
             "input_id": { ...  },
             "dbID": XXX,
             "retry_count": XXX
           },
           "execute_writes": [1|0],
           "debug": XXX
         }
    <--- "OK"

From this point, GuestProcess acts as a server, listening to events sent by the child.
Events are JSON objects composed of an "event" field (the name of the event) and a
"content" field (the payload). Events can be of the following kinds (with the expected
response from GuestProcess):

    <--- JOB_STATUS_UPDATE
         // The content is one of "PRE_CLEANUP", "FETCH_INPUT", "RUN", "WRITE_OUTPUT", "POST_CLEANUP"
    ---> "OK"

    <--- WARNING
         // The content is a JSON object:
            {
              "message": "XXX",
              "is_error": [true|false],
            }
    ---> "OK"

    <--- DATAFLOW
         // The content is a JSON object:
            {
              "branch_name_or_code": XXX,
              "output_ids": an array or a hash,
              "params": {
                "substituted": { ... the parameters that are currently substituted ... }
                "unsubstituted": { ... the parameters that have not yet been substituted ... }
              }
            }
    ---> dbIDs of the jobs that have been created

    <--- WORKER_TEMP_DIRECTORY
         // The content is the "worker_temp_directory_name" as defined in the runnable (or null otherwise)
    ---> returns the temporary directory of the worker

    <--- JOB_END
         // The content is a JSON object describing the final state of the job
            {
              "complete": [true|false],
              "job": {
                "autoflow": [true|false],
                "lethal_for_worker": [true|false],
                "transient_error": [true|false],
              },
              "params": {
                "substituted": { ... the parameters that are currently substituted ... }
                "unsubstituted": { ... the parameters that have not yet been substituted ... }
              }
            }
    ---> "OK"


</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae70b8a7e04c6750af4de1931f0ac7f59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected String Bio::EnsEMBL::Hive::GuestProcess::_get_wrapper_for_language </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Example     :</pre><div class="fragment"><div class="line"><a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#ae70b8a7e04c6750af4de1931f0ac7f59">Bio::EnsEMBL::Hive::GuestProcess::_get_wrapper_for_language</a>(<span class="stringliteral">&#39;python3&#39;</span>);</div>
</div><!-- fragment --> <pre>  Description : Finds the wrapper that understands the given language
  Returntype  : String
  Exceptions  : Can die if the wrapper doesn't exist</pre><pre> </pre><div id="codesection-_get_wrapper_for_language" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_get_wrapper_for_language-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_get_wrapper_for_language-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_get_wrapper_for_language-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#ae70b8a7e04c6750af4de1931f0ac7f59">_get_wrapper_for_language</a> {</div>
<div class="line">    my ($language) = @_;</div>
<div class="line"></div>
<div class="line">    my $wrapper = $ENV{<span class="stringliteral">&#39;EHIVE_WRAPPER_&#39;</span>.(uc $language)} # User-overriden wrapper</div>
<div class="line">                    || sprintf(<span class="stringliteral">&#39;%s/wrappers/%s/wrapper&#39;</span>, $ENV{<span class="stringliteral">&#39;EHIVE_ROOT_DIR&#39;</span>}, $language);  # Embedded wrapper</div>
<div class="line">    <span class="keywordflow">if</span> (not -e $wrapper) {</div>
<div class="line">        die <span class="stringliteral">&quot;$language is currently not supported\n&quot;</span>;</div>
<div class="line">    } elsif (not -s $wrapper) {</div>
<div class="line">        die <span class="stringliteral">&quot;The wrapper &#39;$wrapper&#39; is an empty file !\n&quot;</span>;</div>
<div class="line">    } elsif (not -x $wrapper) {</div>
<div class="line">        die <span class="stringliteral">&quot;No permissions to execute the wrapper &#39;$wrapper&#39;\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> $wrapper;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a20cfaf47213662a2db9ded9334ac5a21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public IO::Handle Bio::EnsEMBL::Hive::GuestProcess::child_in </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Example     :</pre><div class="fragment"><div class="line">my $child_in = $process-&gt;child_in();</div>
</div><!-- fragment --> <pre>  Example     :</pre><div class="fragment"><div class="line">$process-&gt;child_in(*CHILD_WTR);</div>
</div><!-- fragment --> <pre>  Description : Getter/Setter for the file handle that allows talking to the
                child process.
  Returntype  : IO::Handle
  Exceptions  : none</pre><pre> </pre><div id="codesection-child_in" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-child_in-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-child_in-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-child_in-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a20cfaf47213662a2db9ded9334ac5a21">child_in</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;{<span class="stringliteral">&#39;_child_in&#39;</span>} = shift <span class="keywordflow">if</span> @_;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;{<span class="stringliteral">&#39;_child_in&#39;</span>};</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="aa66d580d89008f43d913f7d095e68fd4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public IO::Handle Bio::EnsEMBL::Hive::GuestProcess::child_out </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Example     :</pre><div class="fragment"><div class="line">my $child_out = $process-&gt;child_out();</div>
</div><!-- fragment --> <pre>  Example     :</pre><div class="fragment"><div class="line">$process-&gt;child_out(*CHILD_RDR);</div>
</div><!-- fragment --> <pre>  Description : Getter/Setter for the file handle that allows receiving data
                from the child process.
  Returntype  : IO::Handle
  Exceptions  : none</pre><pre> </pre><div id="codesection-child_out" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-child_out-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-child_out-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-child_out-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#aa66d580d89008f43d913f7d095e68fd4">child_out</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;{<span class="stringliteral">&#39;_child_out&#39;</span>} = shift <span class="keywordflow">if</span> @_;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;{<span class="stringliteral">&#39;_child_out&#39;</span>};</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="aae96aed59f5bd0b1bd7ebbf35c544ba0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Int Bio::EnsEMBL::Hive::GuestProcess::child_pid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Example     :</pre><div class="fragment"><div class="line">my $child_pid = $process-&gt;child_pid();</div>
</div><!-- fragment --> <pre>  Example     :</pre><div class="fragment"><div class="line">$process-&gt;child_pid($child_pid);</div>
</div><!-- fragment --> <pre>  Description : Getter/Setter for the process ID of the child
  Returntype  : integer
  Exceptions  : none</pre><pre> </pre><div id="codesection-child_pid" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-child_pid-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-child_pid-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-child_pid-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#aae96aed59f5bd0b1bd7ebbf35c544ba0">child_pid</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;{<span class="stringliteral">&#39;_child_pid&#39;</span>} = shift <span class="keywordflow">if</span> @_;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;{<span class="stringliteral">&#39;_child_pid&#39;</span>};</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ac7245010ec0ae0e22b3686aed880c88e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public void Bio::EnsEMBL::Hive::GuestProcess::DESTROY </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Description : Destructor: tells the child to exit by sending an empty JSON object
  Returntype  : none</pre><pre> </pre><div id="codesection-DESTROY" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-DESTROY-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-DESTROY-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-DESTROY-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#ac7245010ec0ae0e22b3686aed880c88e">DESTROY</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;print_debug(<span class="stringliteral">&quot;DESTROY&quot;</span>);</div>
<div class="line">    $self-&gt;child_in-&gt;print(<span class="stringliteral">&quot;{}\n&quot;</span>);</div>
<div class="line"><span class="preprocessor">    #kill(&#39;KILL&#39;, $self-&gt;child_pid);</span></div>
<div class="line"><span class="preprocessor">}</span></div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a11a2ce81fc2f1dce24562d2f144e2bb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public String Bio::EnsEMBL::Hive::GuestProcess::get_protocol_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Example     :</pre><div class="fragment"><div class="line">print <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html">Bio::EnsEMBL::Hive::GuestProcess</a>-&gt;<a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a11a2ce81fc2f1dce24562d2f144e2bb4">get_protocol_version</a>(), <span class="stringliteral">&quot;\n&quot;</span>;</div>
</div><!-- fragment --> <pre>  Description : Returns the version number of the communication protocol
  Returntype  : String</pre><pre> </pre><div id="codesection-get_protocol_version" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_protocol_version-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_protocol_version-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_protocol_version-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a11a2ce81fc2f1dce24562d2f144e2bb4">get_protocol_version</a> {</div>
<div class="line">    <span class="keywordflow">return</span> $VERSION</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a9ad87a904360cadf6ff23f07d76b5a85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Instance Bio::EnsEMBL::Hive::GuestProcess::json_formatter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Example     :</pre><div class="fragment"><div class="line">my $json_formatter = $object_name-&gt;json_formatter();</div>
</div><!-- fragment --> <pre>  Example     :</pre><div class="fragment"><div class="line">$object_name-&gt;json_formatter($json_formatter);</div>
</div><!-- fragment --> <pre>  Description : Getter/Setter for the JSON formatter.
  Returntype  : instance of JSON
  Exceptions  : none</pre><pre> </pre><div id="codesection-json_formatter" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-json_formatter-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-json_formatter-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-json_formatter-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a9ad87a904360cadf6ff23f07d76b5a85">json_formatter</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;{<span class="stringliteral">&#39;_json_formatter&#39;</span>} = shift <span class="keywordflow">if</span> @_;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;{<span class="stringliteral">&#39;_json_formatter&#39;</span>};</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="aa13db41cd8a1caf6726dc4d72455f1a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Hashref Bio::EnsEMBL::Hive::GuestProcess::life_cycle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Example     :</pre><div class="fragment"><div class="line">my $partial_timings = $runnable-&gt;life_cycle();</div>
</div><!-- fragment --> <pre>  Description : Runs the life-cycle of the input job and returns the timings
                of each Runnable method (fetch_input, run, etc).
                See the description of this module for details about the protocol
  Returntype  : Hashref
  Exceptions  : none</pre><pre> </pre><div id="codesection-life_cycle" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-life_cycle-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-life_cycle-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-life_cycle-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#aa13db41cd8a1caf6726dc4d72455f1a3">life_cycle</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    $self-&gt;print_debug(<span class="stringliteral">&quot;LIFE_CYCLE&quot;</span>);</div>
<div class="line"></div>
<div class="line">    my $job = $self-&gt;input_job();</div>
<div class="line">    my $partial_stopwatch = <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_utils_1_1_stopwatch.html">Bio::EnsEMBL::Hive::Utils::Stopwatch</a>-&gt;<a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_utils_1_1_stopwatch.html#a1cbc5b3e6c40f0a5862e55e228dc34a3">new</a>();</div>
<div class="line">    my %job_partial_timing = ();</div>
<div class="line"></div>
<div class="line">    my %<span class="keyword">struct </span>= (</div>
<div class="line">        <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#abaf96e66f6740ec51a294e4164363166">input_job</a> =&gt; {</div>
<div class="line">            parameters =&gt; $job-&gt;{_unsubstituted_param_hash},</div>
<div class="line">            <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#aaa5d456135299916bbb43f4c8300a404">input_id</a> =&gt; $job-&gt;input_id,</div>
<div class="line">            dbID =&gt; $job-&gt;dbID + 0,</div>
<div class="line">            retry_count =&gt; $job-&gt;retry_count + 0,</div>
<div class="line">        },</div>
<div class="line">        <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a2172d0e9d3014f2ef8f117176904fde3">execute_writes</a> =&gt; $self-&gt;execute_writes || 0,</div>
<div class="line">        <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a4c9739f352e4eea538b17bb88de70285">debug</a> =&gt; $self-&gt;debug || 0,</div>
<div class="line">    );</div>
<div class="line">    $self-&gt;print_debug(<span class="stringliteral">&quot;SEND JOB PARAM&quot;</span>);</div>
<div class="line">    $self-&gt;send_message(\%<span class="keyword">struct</span>);</div>
<div class="line">    $self-&gt;wait_for_OK();</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # A simple event loop</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">while</span> (1) {</div>
<div class="line">        $self-&gt;print_debug(<span class="stringliteral">&quot;WAITING IN LOOP&quot;</span>);</div>
<div class="line"></div>
<div class="line">        my $msg = $self-&gt;read_message;</div>
<div class="line">        my $event = $msg-&gt;{<span class="keyword">event</span>};</div>
<div class="line">        my $content = $msg-&gt;{content};</div>
<div class="line">        $self-&gt;print_debug(<span class="stringliteral">&quot;processing event &#39;$event&#39;&quot;</span>);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ($event eq <span class="stringliteral">&#39;JOB_STATUS_UPDATE&#39;</span>) {</div>
<div class="line">            $job_partial_timing{$job-&gt;status} = $partial_stopwatch-&gt;get_elapsed() <span class="keywordflow">if</span> ($job-&gt;status ne <span class="stringliteral">&#39;READY&#39;</span>) and ($job-&gt;status ne <span class="stringliteral">&#39;CLAIMED&#39;</span>);</div>
<div class="line">            $self-&gt;enter_status(uc $content);</div>
<div class="line">            $partial_stopwatch-&gt;restart();</div>
<div class="line">            $self-&gt;send_response(<span class="stringliteral">&#39;OK&#39;</span>);</div>
<div class="line"></div>
<div class="line">        } elsif ($event eq <span class="stringliteral">&#39;WARNING&#39;</span>) {</div>
<div class="line">            $self-&gt;warning($content-&gt;{message}, $content-&gt;{is_error});</div>
<div class="line">            $self-&gt;send_response(<span class="stringliteral">&#39;OK&#39;</span>);</div>
<div class="line"></div>
<div class="line">        } elsif ($event eq <span class="stringliteral">&#39;DATAFLOW&#39;</span>) {</div>
<div class="line">            $job-&gt;{_param_hash} = $content-&gt;{params}-&gt;{substituted};</div>
<div class="line">            $job-&gt;{_unsubstituted_param_hash} = $content-&gt;{params}-&gt;{unsubstituted};</div>
<div class="line">            my $d = $self-&gt;dataflow_output_id($content-&gt;{output_ids}, $content-&gt;{branch_name_or_code});</div>
<div class="line">            $self-&gt;send_response($d);</div>
<div class="line"></div>
<div class="line">        } elsif ($event eq <span class="stringliteral">&#39;WORKER_TEMP_DIRECTORY&#39;</span>) {</div>
<div class="line">            $self-&gt;{<a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#ac18321c09e8d292cd07279c4f2906292">worker_temp_directory_name</a>} = $content;</div>
<div class="line">            my $wtd = $self-&gt;worker_temp_directory;</div>
<div class="line">            $self-&gt;send_response($wtd);</div>
<div class="line"></div>
<div class="line">        } elsif ($event eq <span class="stringliteral">&#39;JOB_END&#39;</span>) {</div>
<div class="line"><span class="preprocessor">            # Especially here we need to be careful about boolean values</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            # They are coded as JSON::true and JSON::false which have</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            # different meanings in text / number contexts</span></div>
<div class="line"><span class="preprocessor"></span>            $job-&gt;autoflow($job-&gt;autoflow and $content-&gt;{job}-&gt;{autoflow});</div>
<div class="line">            $job-&gt;lethal_for_worker($content-&gt;{job}-&gt;{lethal_for_worker}?1:0);</div>
<div class="line">            $job-&gt;transient_error($content-&gt;{job}-&gt;{transient_error}?1:0);</div>
<div class="line">            $job-&gt;{_param_hash} = $content-&gt;{params}-&gt;{substituted};</div>
<div class="line">            $job-&gt;{_unsubstituted_param_hash} = $content-&gt;{params}-&gt;{unsubstituted};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            # This piece of code is duplicated from Process</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="keywordflow">if</span> ($content-&gt;{complete}) {</div>
<div class="line">                <span class="keywordflow">if</span>( $self-&gt;execute_writes and $job-&gt;autoflow ) {    # AUTOFLOW doesn<span class="stringliteral">&#39;t have its own status so will have whatever previous state of the job</span></div>
<div class="line"><span class="stringliteral">                    $self-&gt;say_with_header( &#39;</span>: AUTOFLOW input-&gt;output<span class="stringliteral">&#39; );</span></div>
<div class="line"><span class="stringliteral">                    $job-&gt;dataflow_output_id();</span></div>
<div class="line"><span class="stringliteral">                }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">                my @zombie_funnel_dataflow_rule_ids = keys %{$job-&gt;fan_cache};</span></div>
<div class="line"><span class="stringliteral">                if( scalar(@zombie_funnel_dataflow_rule_ids) ) {</span></div>
<div class="line"><span class="stringliteral">                    $job-&gt;transient_error(0);</span></div>
<div class="line"><span class="stringliteral">                    die &quot;There are cached semaphored fans for which a funnel job (dataflow_rule_id(s) &quot;.join(&#39;</span>,<span class="stringliteral">&#39;,@zombie_funnel_dataflow_rule_ids).&quot;) has never been dataflown&quot;;</span></div>
<div class="line"><span class="stringliteral">                }</span></div>
<div class="line"><span class="stringliteral">            } else {</span></div>
<div class="line"><span class="stringliteral">                $job-&gt;died_somewhere(1);</span></div>
<div class="line"><span class="stringliteral">            }</span></div>
<div class="line"><span class="stringliteral">            $self-&gt;send_response(&#39;</span>OK<span class="stringliteral">&#39;);</span></div>
<div class="line"><span class="stringliteral">            return \%job_partial_timing;</span></div>
<div class="line"><span class="stringliteral">        } else {</span></div>
<div class="line"><span class="stringliteral">            die &quot;Unknown event &#39;</span>$event<span class="stringliteral">&#39; coming from the child&quot;;</span></div>
<div class="line"><span class="stringliteral">        }</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a1115aac81dcd40feb6404fcaf1a07225"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public <a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html">Bio::EnsEMBL::Hive::GuestProcess</a> Bio::EnsEMBL::Hive::GuestProcess::new </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Arg[1]      : $language: the programming language the external runnable is in
  Arg[2]      : $module: the name of the runnable (usually a package name)
  Example     :</pre><div class="fragment"><div class="line"><a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html">Bio::EnsEMBL::Hive::GuestProcess</a>-&gt;<a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a1115aac81dcd40feb6404fcaf1a07225">new</a>();</div>
</div><!-- fragment --> <pre>  Description : Constructor
  Returntype  : <a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html">Bio::EnsEMBL::Hive::GuestProcess</a>
  Exceptions  : if $language or $module is not defined properly or if the pipes /
                child process could not be created</pre><pre> </pre><div id="codesection-new" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <span class="keyword">new</span> {</div>
<div class="line"></div>
<div class="line">    my ($class, $language, $module) = @_;</div>
<div class="line"></div>
<div class="line">    die <span class="stringliteral">&quot;GuestProcess must be told which language to interface with&quot;</span> unless $language;</div>
<div class="line"></div>
<div class="line">    my $wrapper = <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#ae70b8a7e04c6750af4de1931f0ac7f59">_get_wrapper_for_language</a>($language);</div>
<div class="line">    die <span class="stringliteral">&quot;GuestProcess must be told which module to run&quot;</span> unless $module;</div>
<div class="line"></div>
<div class="line">    my ($PARENT_RDR, $PARENT_WTR, $CHILD_WTR,$CHILD_RDR);</div>
<div class="line">    pipe($PARENT_RDR, $CHILD_WTR) or die &#39;Could not create a pipe to send data to the child !&#39;;</div>
<div class="line">    pipe($CHILD_RDR,  $PARENT_WTR) or die &#39;Could not create a pipe to get data from the child !&#39;;;</div>
<div class="line"></div>
<div class="line">    print STDERR &quot;PARENT_RDR is &quot;, fileno($PARENT_RDR), &quot;\n&quot;;</div>
<div class="line">    print STDERR &quot;PARENT_WTR is &quot;, fileno($PARENT_WTR), &quot;\n&quot;;</div>
<div class="line">    print STDERR &quot;CHILD_RDR is &quot;, fileno($CHILD_RDR), &quot;\n&quot;;</div>
<div class="line">    print STDERR &quot;CHILD_WTR is &quot;, fileno($CHILD_WTR), &quot;\n&quot;;</div>
<div class="line"></div>
<div class="line">    my $pid;</div>
<div class="line"></div>
<div class="line">    if ($pid = fork()) {</div>
<div class="line"><span class="preprocessor">        # In the parent</span></div>
<div class="line"><span class="preprocessor"></span>        close $PARENT_RDR;</div>
<div class="line">        close $PARENT_WTR;</div>
<div class="line">        print STDERR <span class="stringliteral">&quot;parent is PID $$\n&quot;</span>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        die <span class="stringliteral">&quot;cannot fork: $!&quot;</span> unless defined $pid;</div>
<div class="line"><span class="preprocessor">        # In the child</span></div>
<div class="line"><span class="preprocessor"></span>        close $CHILD_RDR;</div>
<div class="line">        close $CHILD_WTR;</div>
<div class="line">        print STDERR <span class="stringliteral">&quot;child is PID $$\n&quot;</span>;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Do not close the non-standard file descriptors on exec(): the child process will need them !</span></div>
<div class="line"><span class="preprocessor"></span>        use Fcntl;</div>
<div class="line">        my $flags = fcntl($PARENT_RDR, F_GETFD, 0);</div>
<div class="line">        fcntl($PARENT_RDR, F_SETFD, $flags &amp; ~FD_CLOEXEC);</div>
<div class="line">        $flags = fcntl($PARENT_WTR, F_GETFD, 0);</div>
<div class="line">        fcntl($PARENT_WTR, F_SETFD, $flags &amp; ~FD_CLOEXEC);</div>
<div class="line"></div>
<div class="line">        exec($wrapper, <span class="stringliteral">&#39;run&#39;</span>, $module, fileno($PARENT_RDR), fileno($PARENT_WTR));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    $CHILD_WTR-&gt;autoflush(1);</div>
<div class="line"></div>
<div class="line">    my $self = bless {}, $class;</div>
<div class="line"></div>
<div class="line">    $self-&gt;child_out($CHILD_RDR);</div>
<div class="line">    $self-&gt;child_in($CHILD_WTR);</div>
<div class="line">    $self-&gt;child_pid($pid);</div>
<div class="line">    $self-&gt;json_formatter( JSON-&gt;new()-&gt;indent(0) );</div>
<div class="line"></div>
<div class="line">    $self-&gt;print_debug(<span class="stringliteral">&#39;CHECK VERSION NUMBER&#39;</span>);</div>
<div class="line">    my $other_version = $self-&gt;read_message()-&gt;{content};</div>
<div class="line">    <span class="keywordflow">if</span> ($other_version ne $VERSION) {</div>
<div class="line">        $self-&gt;send_response(<span class="stringliteral">&#39;NO&#39;</span>);</div>
<div class="line">        die <span class="stringliteral">&quot;eHive&#39;s protocol version is &#39;$VERSION&#39; but the wrapper&#39;s is &#39;$other_version&#39;\n&quot;</span>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        $self-&gt;send_response(<span class="stringliteral">&#39;OK&#39;</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    $self-&gt;print_debug(<span class="stringliteral">&quot;BEFORE READ PARAM_DEFAULTS&quot;</span>);</div>
<div class="line">    $self-&gt;param_defaults( $self-&gt;read_message()-&gt;{content} );</div>
<div class="line">    $self-&gt;send_response(<span class="stringliteral">&#39;OK&#39;</span>);</div>
<div class="line"></div>
<div class="line">    $self-&gt;print_debug(<span class="stringliteral">&quot;INIT DONE&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $self;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a3c7a5b944e92b8ecf45d4d67067a4491"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Hashref Bio::EnsEMBL::Hive::GuestProcess::param_defaults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Example     :</pre><div class="fragment"><div class="line">my $param_defaults = $runnable-&gt;param_defaults();</div>
</div><!-- fragment --> <pre>  Example     :</pre><div class="fragment"><div class="line">$runnable-&gt;param_defaults($param_defaults);</div>
</div><!-- fragment --> <pre>  Description : Getter/Setter for the default parameters of this runnable.
                <a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive.html">Hive</a> only uses it as a getter, but here, we need a setter to
                define the parameters at the Perl layer once they've been
                retrieved from the child process.
  Returntype  : Hashref
  Exceptions  : none</pre><pre> </pre><div id="codesection-param_defaults" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-param_defaults-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-param_defaults-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-param_defaults-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a3c7a5b944e92b8ecf45d4d67067a4491">param_defaults</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;{<span class="stringliteral">&#39;_param_defaults&#39;</span>} = shift <span class="keywordflow">if</span> @_;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;{<span class="stringliteral">&#39;_param_defaults&#39;</span>};</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="adf08fff9d3b43c9c47de35e0a18e443e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public void Bio::EnsEMBL::Hive::GuestProcess::print_debug </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Example     :</pre><div class="fragment"><div class="line">$process-&gt;print_debug(<span class="stringliteral">&quot;debug message&quot;</span>);</div>
</div><!-- fragment --> <pre>  Description : Prints a message if $self-&gt;debug is 2 or above
  Returntype  : none</pre><pre> </pre><div id="codesection-print_debug" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-print_debug-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-print_debug-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-print_debug-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#adf08fff9d3b43c9c47de35e0a18e443e">print_debug</a> {</div>
<div class="line">    my ($self, $msg) = @_;</div>
<div class="line">    print STDERR sprintf(<span class="stringliteral">&quot;PERL %d: %s\n&quot;</span>, $self-&gt;child_pid, $msg) if $self-&gt;<a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_process.html#a4c9739f352e4eea538b17bb88de70285">debug</a> &gt; 1;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a1d3e0fc87e4b639448e139d52dccbb7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Perl Bio::EnsEMBL::Hive::GuestProcess::read_message </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Example     :</pre><div class="fragment"><div class="line">my $msg = $process-&gt;read_message();</div>
</div><!-- fragment --> <pre>  Description : Wait for and read the next message coming from the child.
                Again, the message itself is serialized and transmitted
                via the pipe
  Returntype  : Perl structure
  Exceptions  : raised by JSON / IO::Handle</pre><pre> </pre><div id="codesection-read_message" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-read_message-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-read_message-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-read_message-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a1d3e0fc87e4b639448e139d52dccbb7d">read_message</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $s = $self-&gt;child_out-&gt;getline();</div>
<div class="line">    die <span class="stringliteral">&quot;Did not receive any messages&quot;</span> unless defined $s;</div>
<div class="line">    chomp $s;</div>
<div class="line">    $self-&gt;print_debug(<span class="stringliteral">&quot;read_message: $s&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;json_formatter-&gt;decode($s);</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a1ffb71047c020f5063bd9fdb7d847538"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public void Bio::EnsEMBL::Hive::GuestProcess::send_message </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Example     :</pre><div class="fragment"><div class="line">$process-&gt;send_message($perl_structure);</div>
</div><!-- fragment --> <pre>  Description : Send the Perl structure to the child process via the pipe (and
                serialized in JSON).
  Returntype  : none
  Exceptions  : raised by JSON / IO::Handle</pre><pre> </pre><div id="codesection-send_message" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-send_message-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-send_message-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-send_message-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a1ffb71047c020f5063bd9fdb7d847538">send_message</a> {</div>
<div class="line">    my ($self, $struct) = @_;</div>
<div class="line">    my $j = $self-&gt;json_formatter-&gt;encode($struct);</div>
<div class="line">    $self-&gt;print_debug(<span class="stringliteral">&quot;send_message $j&quot;</span>);</div>
<div class="line">    $self-&gt;child_in-&gt;print($j.<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="aa45945f5e47cf67b83e69788ce788c3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public void Bio::EnsEMBL::Hive::GuestProcess::send_response </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Example     :</pre><div class="fragment"><div class="line">$process-&gt;send_response(<span class="stringliteral">&#39;OK&#39;</span>);</div>
</div><!-- fragment --> <pre>  Description : Wrapper around send_message to send a response to the child.
  Returntype  : none
  Exceptions  : raised by JSON / IO::Handle</pre><pre> </pre><div id="codesection-send_response" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-send_response-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-send_response-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-send_response-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#aa45945f5e47cf67b83e69788ce788c3f">send_response</a> {</div>
<div class="line">    my ($self, $response) = @_;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;send_message({<span class="stringliteral">&#39;response&#39;</span> =&gt; $response});</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ae2670c432e284e78fa2be5a152a0b519"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public void Bio::EnsEMBL::Hive::GuestProcess::wait_for_OK </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Example     :</pre><div class="fragment"><div class="line">$process-&gt;wait_for_OK();</div>
</div><!-- fragment --> <pre>  Description : Wait for the child process to send the OK signal
  Returntype  : none
  Exceptions  : dies if the response is not OK, or anything raised by <a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#a1d3e0fc87e4b639448e139d52dccbb7d">read_message()</a></pre><pre> </pre><div id="codesection-wait_for_OK" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-wait_for_OK-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-wait_for_OK-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-wait_for_OK-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#ae2670c432e284e78fa2be5a152a0b519">wait_for_OK</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $s = $self-&gt;read_message();</div>
<div class="line">    die <span class="stringliteral">&quot;Response message does not look like a response&quot;</span> <span class="keywordflow">if</span> not exists $s-&gt;{<span class="stringliteral">&#39;response&#39;</span>};</div>
<div class="line">    die <span class="stringliteral">&quot;Received response is not OK&quot;</span> <span class="keywordflow">if</span> ref($s-&gt;{<span class="stringliteral">&#39;response&#39;</span>}) or $s-&gt;{<span class="stringliteral">&#39;response&#39;</span>} ne <span class="stringliteral">&#39;OK&#39;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ac18321c09e8d292cd07279c4f2906292"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public String Bio::EnsEMBL::Hive::GuestProcess::worker_temp_directory_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Example     :</pre><div class="fragment"><div class="line">$process-&gt;worker_temp_directory_name();</div>
</div><!-- fragment --> <pre>  Description : Returns the name of the temp directory for this module
                The value in $self is initialized at the WORKER_TEMP_DIRECTORY
                event above and returned to the caller if defined. This allows
                runnables to redefine the name
  Returntype  : string
  Exceptions  : none</pre><pre> </pre><div id="codesection-worker_temp_directory_name" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-worker_temp_directory_name-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-worker_temp_directory_name-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-worker_temp_directory_name-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#ac18321c09e8d292cd07279c4f2906292">worker_temp_directory_name</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;{<a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#ac18321c09e8d292cd07279c4f2906292">worker_temp_directory_name</a>} <span class="keywordflow">if</span> $self-&gt;{<a class="code" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html#ac18321c09e8d292cd07279c4f2906292">worker_temp_directory_name</a>};</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;SUPER::worker_temp_directory_name();</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>modules/Bio/EnsEMBL/Hive/<a class="el" href="_guest_process_8pm.html">GuestProcess.pm</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_bio.html">Bio</a></li><li class="navelem"><a class="el" href="namespace_bio_1_1_ens_e_m_b_l.html">EnsEMBL</a></li><li class="navelem"><a class="el" href="namespace_bio_1_1_ens_e_m_b_l_1_1_hive.html">Hive</a></li><li class="navelem"><a class="el" href="class_bio_1_1_ens_e_m_b_l_1_1_hive_1_1_guest_process.html">GuestProcess</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>

<html><body><h1>Common dataflows</h1>
<ol>
<li><a href="#100">Autoflow</a><ol>
<li><a href="#101">Autoflow</a></li>
<li><a href="#102">Autoflow v2</a></li>
<li><a href="#103">Autoflow v3</a></li>
</ol></li>
<li><a href="#200">Factory</a><ol>
<li><a href="#201">Factory</a></li>
<li><a href="#202">Factory with semaphored funnel</a></li>
</ol></li>
</ol><table>
<tr id="100"><td><h2>Autoflow</h2><p><em>Autoflow</em> is the default connection between consecutive analyses</p></td><td></td></tr>
<tr id="101"><td><h3>Autoflow</h3><p>Default dataflow pattern from A to B, also called <em>autoflow</em>. This happens on branch #1. Each A job will flow a B job.</p><pre>{   -logic_name =&gt; &#39;A&#39;,
    -flow_into  =&gt; {
       1 =&gt; [ &#39;B&#39; ],
    },
},
{   -logic_name =&gt; &#39;B&#39;,
},</pre></td><td><img src='dataflows/101.png'></td></tr>
<tr id="102"><td><h3>Autoflow v2</h3><p>Same as above, but more concise.</p><pre>{   -logic_name =&gt; &#39;A&#39;,
    -flow_into  =&gt; [ &#39;B&#39; ],
},
{   -logic_name =&gt; &#39;B&#39;,
},</pre></td><td><img src='dataflows/102.png'></td></tr>
<tr id="103"><td><h3>Autoflow v3</h3><p>Same as above, but even more concise</p><pre>{   -logic_name =&gt; &#39;A&#39;,
    -flow_into  =&gt; &#39;B&#39;
},
{   -logic_name =&gt; &#39;B&#39;,
},</pre></td><td><img src='dataflows/103.png'></td></tr>
<tr id="200"><td><h2>Factory</h2><p>Autoflow can only create 1 job. To create more than 1 jobs, you can use <em>factory</em> patterns.</p></td><td></td></tr>
<tr id="201"><td><h3>Factory</h3><p>Analysis A fans 0, 1 or many jobs to analysis B. The convention is to use branch #2. A is called the <em>factory</em>, B the <em>fan</em>.</p><pre>{   -logic_name =&gt; &#39;A&#39;,
    -flow_into  =&gt; {
       2 =&gt; [ &#39;B&#39; ],
    },
},
{   -logic_name =&gt; &#39;B&#39;,
},</pre></td><td><img src='dataflows/201.png'></td></tr>
<tr id="202"><td><h3>Factory with semaphored funnel</h3><p>Analysis A fans 0, 1 or many jobs to analysis B. It also autoflows 1 job to C, which is initially blocked. The latter will be released once all the B jobs (and their descendants, if any) are done. C is called the <em>funnel</em>.</p><pre>{   -logic_name =&gt; &#39;A&#39;,
    -flow_into  =&gt; {
       &#39;2-&gt;A&#39; =&gt; [ &#39;B&#39; ],
       &#39;A-&gt;1&#39; =&gt; [ &#39;C&#39; ],
    },
},
{   -logic_name =&gt; &#39;B&#39;,
},
{   -logic_name =&gt; &#39;C&#39;,
},</pre></td><td><img src='dataflows/202.png'></td></tr>
</table></body></html>

<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>runWorker.pl</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:_mdnsresponder@scream.apple.com" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>
<!--

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#usage_examples">USAGE EXAMPLES</a></li>
	<li><a href="#options">OPTIONS</a></li>
	<ul>

		<li><a href="#connection_parameters_">Connection parameters:</a></li>
		<li><a href="#task_specificaton_parameters_">Task specificaton parameters:</a></li>
		<li><a href="#worker_control_parameters_">Worker control parameters:</a></li>
		<li><a href="#other_options_">Other options:</a></li>
	</ul>

	<li><a href="#license">LICENSE</a></li>
	<li><a href="#contact">CONTACT</a></li>
</ul>

-->


</div>
<!-- INDEX END -->

<p>
</p>
<hr />
<h1><a name="name">NAME</a></h1>
<pre>
    runWorker.pl [options]</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<pre>
    runWorker.pl is an eHive component script that does the work of a single Worker -
    specializes in one of the analyses and starts executing jobs of that analysis one-by-one or batch-by-batch.</pre>
<pre>
    Most of the functionality of the eHive is accessible via beekeeper.pl script,
    but feel free to run the runWorker.pl if you think you know what you are doing :)</pre>
<p>
</p>
<hr />
<h1><a name="usage_examples">USAGE EXAMPLES</a></h1>
<pre>
        # Run one local worker process in ehive_dbname and let the system pick up the analysis
    runWorker.pl -url mysql://username:secret@hostname:port/ehive_dbname</pre>
<pre>
        # Run one local worker process in ehive_dbname and let the system pick up the analysis from the given resource_class
    runWorker.pl -url mysql://username:secret@hostname:port/ehive_dbname -rc_name low_mem</pre>
<pre>
        # Run one local worker process in ehive_dbname and constrain its initial specialization within a subset of analyses
    runWorker.pl -url mysql://username:secret@hostname:port/ehive_dbname -analyses_pattern '1..15,analysis_X,21'</pre>
<pre>
        # Run one local worker process in ehive_dbname and allow it to respecialize within a subset of analyses
    runWorker.pl -url mysql://username:secret@hostname:port/ehive_dbname -can_respecialize 1 -analyses_pattern 'blast%-4..6'</pre>
<pre>
        # Run a specific job in a local worker process:
    runWorker.pl -url mysql://username:secret@hostname:port/ehive_dbname -job_id 123456</pre>
<p>
</p>
<hr />
<h1><a name="options">OPTIONS</a></h1>
<p>
</p>
<h2><a name="connection_parameters_">Connection parameters:</a></h2>
<pre>
    -reg_conf &lt;path&gt;            : path to a Registry configuration file
    -reg_alias &lt;string&gt;         : species/alias name for the Hive DBAdaptor
    -url &lt;url string&gt;           : url defining where database is located</pre>
<p>
</p>
<h2><a name="task_specificaton_parameters_">Task specificaton parameters:</a></h2>
<pre>
    -rc_id &lt;id&gt;                 : resource class id
    -rc_name &lt;string&gt;           : resource class name
    -analyses_pattern &lt;string&gt;  : restrict the specialization of the Worker to the specified subset of Analyses
    -job_id &lt;id&gt;                : run a specific job defined by its database id
    -force 0|1                  : set to 1 if you want to force running a Worker over a BLOCKED analysis or to run a specific DONE/SEMAPHORED job_id</pre>
<p>
</p>
<h2><a name="worker_control_parameters_">Worker control parameters:</a></h2>
<pre>
    -job_limit &lt;num&gt;            : #jobs to run before worker can die naturally
    -life_span &lt;num&gt;            : number of minutes this worker is allowed to run
    -no_cleanup                 : don't perform temp directory cleanup when worker exits
    -no_write                   : don't write_output or auto_dataflow input_job
    -hive_log_dir &lt;path&gt;        : directory where stdout/stderr of the whole hive of workers is redirected
    -worker_log_dir &lt;path&gt;      : directory where stdout/stderr of this particular worker is redirected
    -retry_throwing_jobs &lt;0|1&gt;  : if a job dies *knowingly*, should we retry it by default?
    -can_respecialize &lt;0|1&gt;     : allow this worker to re-specialize into another analysis (within resource_class) after it has exhausted all jobs of the current one</pre>
<p>
</p>
<h2><a name="other_options_">Other options:</a></h2>
<pre>
    -help                       : print this help
    -versions                   : report both Hive code version and Hive database schema version
    -debug &lt;level&gt;              : turn on debug messages at &lt;level&gt;
    -analysis_stats             : show status of each analysis in hive</pre>
<p>
</p>
<hr />
<h1><a name="license">LICENSE</a></h1>
<pre>
    Copyright [1999-2015] Wellcome Trust Sanger Institute and the EMBL-European Bioinformatics Institute
    Copyright [2016-2018] EMBL-European Bioinformatics Institute</pre>
<pre>
    Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except in compliance with the License.
    You may obtain a copy of the License at</pre>
<pre>
         <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></pre>
<pre>
    Unless required by applicable law or agreed to in writing, software distributed under the License
    is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and limitations under the License.</pre>
<p>
</p>
<hr />
<h1><a name="contact">CONTACT</a></h1>
<pre>
    Please subscribe to the Hive mailing list:  <a href="http://listserver.ebi.ac.uk/mailman/listinfo/ehive-users">http://listserver.ebi.ac.uk/mailman/listinfo/ehive-users</a>  to discuss Hive-related questions or to be notified of our updates</pre>

</body>

</html>
